<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Blog | drand</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.drand.love/img/league-members.avif"><meta data-rh="true" name="twitter:image" content="https://docs.drand.love/img/league-members.avif"><meta data-rh="true" property="og:url" content="https://docs.drand.love/blog/page/2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | drand"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.drand.love/blog/page/2"><link data-rh="true" rel="alternate" href="https://docs.drand.love/blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.drand.love/blog/page/2" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://docs.drand.love/blog/page/2","mainEntityOfPage":"https://docs.drand.love/blog/page/2","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/timelock-encryption-is-now-supported-on-drand-mainnet","mainEntityOfPage":"https://docs.drand.love/blog/timelock-encryption-is-now-supported-on-drand-mainnet","url":"https://docs.drand.love/blog/timelock-encryption-is-now-supported-on-drand-mainnet","headline":"Timelock Encryption is now supported on drand mainnet","name":"Timelock Encryption is now supported on drand mainnet","description":"Date Published: March 27, 2023","datePublished":"2023-03-27T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/drand-on-filecoin-virtual-machine-FVM-draffle","mainEntityOfPage":"https://docs.drand.love/blog/drand-on-filecoin-virtual-machine-FVM-draffle","url":"https://docs.drand.love/blog/drand-on-filecoin-virtual-machine-FVM-draffle","headline":"drand on Filecoin Virtual Machine (FVM) - draffle","name":"drand on Filecoin Virtual Machine (FVM) - draffle","description":"To mark the launch of user-programmable smart contracts on the Filecoin Virtual Machine (FVM), the drand team is excited to release a three-part blog series on using randomness on the FVM! In this first part, we dive into the prevrandao EVM opcode (the FVM fully supports EVM bytecode!), a sample Solidity contract using it, a UI to interact with it, and some other necessary plumbing to make it all work.","datePublished":"2023-03-15T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/auttomata-network-joins-the-league-of-entropy","mainEntityOfPage":"https://docs.drand.love/blog/auttomata-network-joins-the-league-of-entropy","url":"https://docs.drand.love/blog/auttomata-network-joins-the-league-of-entropy","headline":"Automata Network Joins the League of Entropy!","name":"Automata Network Joins the League of Entropy!","description":"We are proud to announce that Automata Network, a web3 middleware protocol focused on protecting fairness & privacy, is joining forces with the League of Entropy (LoE)! Automata is becoming the 17th member to join the LoE and the first partner joining from Singapore - a significant milestone for the LoE.","datePublished":"2023-03-14T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/a-guide-on-how-to-use-drand","mainEntityOfPage":"https://docs.drand.love/blog/a-guide-on-how-to-use-drand","url":"https://docs.drand.love/blog/a-guide-on-how-to-use-drand","headline":"A Guide on how to use drand","name":"A Guide on how to use drand","description":"In this blog post, we’ll dive into the fascinating world of public randomness and provide a step-by-step tutorial on how to consume randomness from drand and use it in your applications. Get ready for an exciting journey into the heart of randomness!","datePublished":"2023-02-21T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/ipfs-force-joins-the-league-of-entropy","mainEntityOfPage":"https://docs.drand.love/blog/ipfs-force-joins-the-league-of-entropy","url":"https://docs.drand.love/blog/ipfs-force-joins-the-league-of-entropy","headline":"IPFS Force joins the League of Entropy!","name":"IPFS Force joins the League of Entropy!","description":"https://drand.love/assets/img/ipfs-force-logo.18be5e96.png","datePublished":"2023-01-26T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/drand-2022-year-in-review-&-our-2023-roadmap","mainEntityOfPage":"https://docs.drand.love/blog/drand-2022-year-in-review-&-our-2023-roadmap","url":"https://docs.drand.love/blog/drand-2022-year-in-review-&-our-2023-roadmap","headline":"drand: 2022 Year in Review & our 2023 Roadmap","name":"drand: 2022 Year in Review & our 2023 Roadmap","description":"drand: 2022 Year in Review","datePublished":"2023-01-22T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/cryptosat-takes-drand-to-space","mainEntityOfPage":"https://docs.drand.love/blog/cryptosat-takes-drand-to-space","url":"https://docs.drand.love/blog/cryptosat-takes-drand-to-space","headline":"CryptoSat takes drand to Space!","name":"CryptoSat takes drand to Space!","description":"https://drand.love/assets/img/cryptosat-blog-header3.84006631.png","datePublished":"2022-10-19T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/observing-randomness","mainEntityOfPage":"https://docs.drand.love/blog/observing-randomness","url":"https://docs.drand.love/blog/observing-randomness","headline":"Observing Randomness","name":"Observing Randomness","description":"Monitoring distributed systems is a challenge. While there are established patterns and solutions for monitoring the most common types of applications, there is usually no silver bullet. In this blog post, we outline the challenges that we faced when implementing monitoring for one such system, drand.","datePublished":"2022-08-25T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/drand-at-northsec","mainEntityOfPage":"https://docs.drand.love/blog/drand-at-northsec","url":"https://docs.drand.love/blog/drand-at-northsec","headline":"drand @ NorthSec","name":"drand @ NorthSec","description":"Drand was recently presented at the North Sec conference! Here is a brief summary of the event and the drand talk, as well as the answers to a few of the interesting questions we received.","datePublished":"2022-06-23T00:00:00.000Z","author":[],"keywords":[]},{"@type":"BlogPosting","@id":"https://docs.drand.love/blog/storswift-joins-the-league-of-entropy","mainEntityOfPage":"https://docs.drand.love/blog/storswift-joins-the-league-of-entropy","url":"https://docs.drand.love/blog/storswift-joins-the-league-of-entropy","headline":"StorSwift joins the League of Entropy!","name":"StorSwift joins the League of Entropy!","description":"Date Published: March 29, 2022","datePublished":"2022-03-29T00:00:00.000Z","author":[],"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="drand RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="drand Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PH6HJ6ECV2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PH6HJ6ECV2",{})</script><link rel="stylesheet" href="/assets/css/styles.7acb8680.css">
<script src="/assets/js/runtime~main.b361a10a.js" defer="defer"></script>
<script src="/assets/js/main.2cddedc9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/drand-logo.avif" alt="drand Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/drand-logo.avif" alt="drand Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">drand</b></a><a class="navbar__item navbar__link" href="/docs/home">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/drand/drand-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/drand-greetings">Greetings!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/create-a-notion-widget">Creating a Notion Widget to display the latest Public Randomness from drand!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/retro-on-the-drand-testnet">Retro on the drand testnet outage of Feb 21, 2024</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/quicknet-is-live-on-league-of-entrophy-mainnet">quicknet is live on League of Entropy mainnet</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/announcing-randamu">Announcing Randamu!</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/timelock-encryption-is-now-supported-on-drand-mainnet">Timelock Encryption is now supported on drand mainnet</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-27T00:00:00.000Z">March 27, 2023</time> · <!-- -->11 min read</div></header><div class="markdown"><p>Date Published: March 27, 2023
Tags: Conferences and Events, Features, News</p>
<p>The drand team has been busy during the past year working on delivering an exciting new feature: <strong>Timelock Encryption</strong>. Timelock encryption enables you to encrypt a message that cannot be decrypted by anyone until a specified time in the future.</p>
<p>You might have heard about it from us already, since we were proud to present not just one, but <em>three</em> new open-source projects in August 2022, bringing a new very exciting feature called “timelock encryption” to our drand testnet!</p>
<p>Well, wait no more: we have now finally reached “General Availability” and our <em>audited</em> Timelock Encryption scheme is <strong>now compatible with the drand mainnet</strong>, thanks to our newly launched <code>fastnet</code> network which we’ll discuss quickly in this post as well.</p>
<p>Thanks to the team&#x27;s work, you can now use these features in many ways:</p>
<ul>
<li><a href="https://timevault.drand.love/" target="_blank" rel="noopener noreferrer"><strong>Our Timevault web-demo</strong></a> using <code>tlock-js</code> to perform timelock encryption easily in your browser, locally.</li>
<li><code>tlock</code>, a <a href="https://github.com/drand/tlock/" target="_blank" rel="noopener noreferrer"><strong>Go library doing Timelock encryption</strong></a> by relying on drand’s beacon signatures, along with <code>tle</code> - a CLI tool allowing you to use timelock encryption just like you would use <code>gpg</code> or <code>age</code>.</li>
<li><code>tlock-js</code>, a <a href="https://github.com/drand/tlock-js/" target="_blank" rel="noopener noreferrer"><strong>TS library doing the same</strong></a> for your browser apps.</li>
<li>Using the unchained drand beacons from our new <code>fastnet</code> network: <a href="https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493/public/latest" target="_blank" rel="noopener noreferrer">https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493/public/latest</a></li>
</ul>
<aside><p>⚠️ NOTE: <code>fastnet</code> has been deprecated in favor of <code>quicknet</code> since the original publication of this blog post.</p></aside>
<p>These were already <a href="https://www.youtube.com/watch?t=1652&amp;v=IW7sdSd2wOQ&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer"><strong>presented at DEF CON</strong></a> when we launched them on our testnet. Check the talk if you want more details about possible applications and the history behind Timelock Encryption.</p>
<p>More recently, we released a <a href="https://eprint.iacr.org/2023/189" target="_blank" rel="noopener noreferrer"><strong>pre-print paper</strong></a> explaining the details of our timelock scheme and we have a talk scheduled at Real World Crypto tomorrow, on March 29th, 2023 where we’ll explain more in depth how <strong>we transformed the League of Entropy</strong> and drand into the first practical <strong>Timelock Encryption service</strong> globally available with a <strong>100% uptime history</strong> over the past 3 years!</p>
<p>But for today let’s first see what this “Timelock Encryption” we’re talking about is.</p>
<p>P.S.: If this has piqued your interest and you’d rather watch a video about how this works, you can also find more technical explanations about what is coming next in this <a href="https://www.youtube.com/watch?v=Zgsv4LY0Sn0" target="_blank" rel="noopener noreferrer"><strong>Research Seminar</strong></a> that we gave in September!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timelock-encryption"><strong>Timelock Encryption</strong><a href="#timelock-encryption" class="hash-link" aria-label="Direct link to timelock-encryption" title="Direct link to timelock-encryption">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="drand-background"><strong>Drand background</strong><a href="#drand-background" class="hash-link" aria-label="Direct link to drand-background" title="Direct link to drand-background">​</a></h3>
<p>In order to understand how the system works, we need to first recall a few things about how drand functions…</p>
<p>First things first, let’s recall that <code>drand</code>, which stands for “<strong>distributed randomness</strong>” (and thus pronounced “dee-rand”), is our very own <a href="https://github.com/drand/drand" target="_blank" rel="noopener noreferrer"><strong>open-source software</strong></a> meant to create distributed randomness networks. These networks emit <strong>random “beacons” at a given frequency</strong> in a way that you never need to trust any single party in the network, and can <em><strong>verify</strong></em> that you actually have random values as long as you trust there is <strong>never a threshold number of malicious parties</strong> in the network, thus the security of the threshold BLS signature scheme holds.</p>
<p>To accomplish this drand relies on the threshold BLS signature scheme and its security proof that tells us BLS signatures are indistinguishable from random ones (in the group of all possible signatures). At each epoch, the members of a drand network work together to create an aggregated BLS signature on the message <strong>m = H(round)}</strong>. An important point here for what comes next is that the <strong>message is predictable</strong> according to the target round at a time T (in other words, there is a mapping between time and round numbers, since the network operates at a fixed frequency), when we’re using drand in the so-called unchained mode that <a href="/blog/page/Multi-Frequency Support &amp; Timelock Encryption are  5c3651ad243541b698024016ecd24d26.md"><strong>we presented in a post last year</strong></a>.</p>
<p>You can learn more about drand and how it works under the hood in our documentation: <a href="https://www.notion.so/2-1-Concepts-Cryptography-6b6cea36929e4b1b8ed5b00ad8600081?pvs=21" target="_blank" rel="noopener noreferrer"><strong>Cryptography Page</strong></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-league-of-entropy"><strong>The League of Entropy</strong><a href="#the-league-of-entropy" class="hash-link" aria-label="Direct link to the-league-of-entropy" title="Direct link to the-league-of-entropy">​</a></h3>
<p>The League of Entropy is a consortium of organisations that decided, back in 2019, to start running a global drand network in order to provide free, unbiased, and verifiable public randomness for anyone to use. Since 2019, the League has been growing steadily, with new members joining it regularly and thus increasing the security and trust we can have in the League. You can read more about the League on Cloudflare’s website: <a href="https://www.cloudflare.com/leagueofentropy/" target="_blank" rel="noopener noreferrer"><strong>https://www.cloudflare.com/leagueofentropy/</strong></a></p>
<p>As of March 2023, the League is constituted of over 21 drand nodes operated by 18 organisations, with a threshold of over 50%, and you can follow our blog to see when new partners are joining the League: <a href="/blog/Blog 83785fc385334bd9b893ae3817f2944a.md">Blog</a></p>
<p>In case you were worried after reading our paper, know that whenever new members join the League, we conduct a so-called “resharing” of the League’s group secret key using verifiable secret sharing. This means that <strong>the public keys of the drand networks we run never change</strong> and it is not going to cause an incompatibility issue with our timelock scheme.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="our-timed-release-encryption-scheme"><strong>Our “timed release encryption” scheme</strong><a href="#our-timed-release-encryption-scheme" class="hash-link" aria-label="Direct link to our-timed-release-encryption-scheme" title="Direct link to our-timed-release-encryption-scheme">​</a></h3>
<p>Our timelock scheme, also sometimes called a “timed release encryption” (TRE) scheme, is a direct application of the <a href="https://crypto.stanford.edu/~dabo/papers/bfibe.pdf" target="_blank" rel="noopener noreferrer"><strong>Identity Based Encryption scheme</strong></a> (IBE) from Boneh et al. (section 4.2) to the threshold BLS signature setting of drand.</p>
<p>In IBE, participants are referred to via their <strong>identity</strong> which can be an email, a name, etc. and anyone can encrypt a message to any identity, even if the recipient is not “registered” with the system. This works because there is a Private Key Generator (PKG) service that distributes the required secret keys to participants depending on their identity.</p>
<p>As it turns out, the League of Entropy is basically acting as a <strong>“Distributed PKG” network</strong> because they’re using the BLS scheme to sign messages and, (as already denoted in the initial 2001 IBE paper), the decryption keys of their IBE scheme can be used as signatures over a given identity, which is exactly what the BLS scheme is accomplishing.</p>
<p>Moreover, it uses <strong>the round number as the identity</strong>, <strong>and the corresponding signature becomes the private key to decrypt.</strong> In short:</p>
<p>Public key = <strong>round number</strong></p>
<p>Private key = <strong>signature over the round number</strong></p>
<p>Given this, the flow is as follows:</p>
<ul>
<li>Anyone can encrypt a message towards a specific round X in advance</li>
<li>When the time has come, the network will generate the BLS signature (i.e. the <em>private key)</em> and release it publicly</li>
<li>Anybody can retrieve the BLS signature of the beacon produced at round X and decrypt any message that was encrypted towards that round X.</li>
</ul>
<p>For more technical information about how this works, you can <strong>check our pre-print paper</strong> about our Timelock Encryption scheme on ePrint <a href="https://eprint.iacr.org/2023/189" target="_blank" rel="noopener noreferrer"><strong>here</strong></a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid-encryption"><strong>Hybrid Encryption</strong><a href="#hybrid-encryption" class="hash-link" aria-label="Direct link to hybrid-encryption" title="Direct link to hybrid-encryption">​</a></h2>
<p>Because our timed release encryption scheme allows users to <strong>encrypt a fixed sized message</strong>, and also to achieve better performance in general, it relies on “<strong>Hybrid encryption</strong>” to encrypt arbitrary data more easily. Hybrid encryption means that we are using an asymmetric encryption scheme to <strong>encrypt a Data Encryption Key (DEK)</strong> used to subsequently encrypt the actual data we want to transmit with a symmetric encryption scheme. This is commonly known as “wrapping a key”, and it&#x27;s how modern public key encryption schemes function to encrypt more data than their “block size”. It has the benefit of being much faster than doing asymmetric encryption of each chunk of data. Typically, the DEK is an AES or ChaCha key, both being blazingly fast symmetric encryption schemes compared to the public key scheme used to encrypt the DEK.</p>
<p>Hybrid encryption also allows users to significantly reduce the size of a ciphertext meant for multiple recipients, since one only needs to wrap the DEK for different recipients while the bulk of the encrypted data remains the same for all recipients since it was encrypted with a single symmetric key.</p>
<p>In practice, we decided the easiest way to implement this was to rely on the existing <a href="https://github.com/FiloSottile/age" target="_blank" rel="noopener noreferrer"><strong><code>age</code></strong></a> library and tool to create new types of “recipients” and “identities” for it using our timelock scheme to wrap symmetric encryption keys. This is made easier with <code>age</code> through the notion of “stanzas”, data itself is encrypted using a <code>filekey</code> which is then encrypted (wrapped) using one or multiple stanzas following the battle-tested hybrid encryption technique.</p>
<p>We tried to stay pretty close to the age-plugin format in order to possibly adapt this new scheme into a plugin, perhaps sometime in the future. Here is our custom tlock stanza:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> tlock </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">roundnumber</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">chainhash</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">timelocked</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">fileKey</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">given</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">roundnumber</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">and</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">chainhash</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tlock"><strong>tlock</strong><a href="#tlock" class="hash-link" aria-label="Direct link to tlock" title="Direct link to tlock">​</a></h2>
<p>We have implemented the scheme in a <strong>Golang library</strong> <a href="https://github.com/drand/tlock" target="_blank" rel="noopener noreferrer"><strong>tlock</strong></a> and a <strong>Typescript library</strong> <a href="https://github.com/drand/tlock-js" target="_blank" rel="noopener noreferrer"><strong>tlock-js</strong></a>.</p>
<p>For convenience, we have implemented:</p>
<ul>
<li><strong>a web demo</strong> at <a href="https://timevault.drand.love/" target="_blank" rel="noopener noreferrer"><strong>https://timevault.drand.love/</strong></a> using our tlock-js library</li>
<li><strong>a CLI utility</strong> <code>tle</code> that you can find on the <a href="https://github.com/drand/tlock#install-or-build-the-cli" target="_blank" rel="noopener noreferrer"><strong>tlock repo</strong></a></li>
</ul>
<p>The <code>tlock</code> Go library is a pure Go library implemented on top of an implementation of <a href="https://github.com/drand/kyber/tree/master/encrypt/ibe" target="_blank" rel="noopener noreferrer"><strong>IBE in our Kyber library</strong></a> fork and instantiated using <a href="https://github.com/kilic/bls12-381" target="_blank" rel="noopener noreferrer"><strong>kilic’s BLS12-381</strong></a> elliptic curve library. The <code>tle</code> CLI tool is built following the same kind of flags as used in <code>age</code> itself. Here’s a quick demo using it:</p>
<p><img decoding="async" loading="lazy" src="https://user-images.githubusercontent.com/181501/177999855-cc1cfef7-ee1c-4193-bea7-4ee2e689f2d1.svg" alt="https://user-images.githubusercontent.com/181501/177999855-cc1cfef7-ee1c-4193-bea7-4ee2e689f2d1.svg" class="img_ev3q"></p>
<p>The <code>tlock-js</code> is a pure Typescript implementation of timed encryption using the drand network. Like the <code>tlock</code> Go library, it uses <a href="http://age-encryption.org/" target="_blank" rel="noopener noreferrer"><strong>Age encryption</strong></a> under the hood to perform symmetric encryption on a given payload using <a href="https://en.wikipedia.org/wiki/ChaCha20-Poly1305" target="_blank" rel="noopener noreferrer"><strong>chacha20-poly1305</strong></a> and wraps the symmetric key using timelock encryption. This ciphertext is then (optionally) encoded using ascii armor making it easy to move around and display - similar to what PGP and other utilities do.</p>
<p>The library only has a handful of dependencies:</p>
<ul>
<li>some of the noble crypto libraries (the de facto standard for many algorithms in js/ts)</li>
<li>Stablelib’s chacha20-poly1305 implementation</li>
<li>a polyfill for node’s <code>Buffer</code></li>
</ul>
<p>It’s available on npm at <a href="https://www.npmjs.com/package/tlock-js" target="_blank" rel="noopener noreferrer"><strong>https://www.npmjs.com/package/tlock-js</strong></a> and github at <a href="https://github.com/drand/tlock-js" target="_blank" rel="noopener noreferrer"><strong>https://github.com/drand/tlock-js</strong></a> and is used by our <a href="https://timevault.drand.love/" target="_blank" rel="noopener noreferrer"><strong>Timevault web demo</strong></a>!</p>
<p>Finally, to ensure the best security guarantees possible to our users, we had both <code>tlock</code> and <code>tlock-js</code> go through a code assessment by a renowned cybersecurity company, which we’ll be releasing shortly as well.</p>
<h1><strong>Our new <code>fastnet</code> network</strong></h1>
<p>The best part about our timelock solution is that it is live on our mainnet! You can try it in your browser here: <a href="https://timevault.drand.love/" target="_blank" rel="noopener noreferrer"><strong>https://timevault.drand.love/</strong></a></p>
<p>This is possible because the League of Entropy actually launched a new drand mainnet network, on March 1st, 2023: the <code>fastnet</code> 🏎️ network! It is readily available through our mainnet endpoints: <a href="https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493/info" target="_blank" rel="noopener noreferrer"><strong>https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493/info</strong></a></p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;public_key&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;period&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;genesis_time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1677685200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;hash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;groupHash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;a81e9d63f614ccdb144b8ff79fbd4d5a2d22055c0bfe4ee9a8092003dab1c6c0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;schemeID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;bls-unchained-on-g1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">&quot;metadata&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string-property property" style="color:#36acaa">&quot;beaconID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;fastnet&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is running at a 3 second frequency, which is 10 times faster than our previous chained <code>default</code> mainnet network, and it uses G1 for signatures, which means its random beacons have signatures that are 50% smaller! It is also running in unchained mode, and thus enables timelock encryption on mainnet!</p>
<p>You can start building your very own sealed-bid auction system on top of it, <a href="https://research.kudelskisecurity.com/2023/02/22/releasing-a-timelocked-responsible-disclosure/" target="_blank" rel="noopener noreferrer"><strong>do a timelocked responsible disclosure</strong></a>, or use it as a <a href="https://gwern.net/self-decrypting#uses" target="_blank" rel="noopener noreferrer"><strong>deadman’s switch by encrypting your bitcoin private key</strong></a> with it and giving the timelocked ciphertext to your heirs, while having the full security of running on the League of Entropy mainnet instead of on our testnet, as was the case until now.</p>
<p>Expect another blog post in the coming months with more details about the G1/G2 swap in <code>fastnet</code>, and what it means for BLS signatures, and for the applications using drand beacons. (Hints: smaller footprint, better performance and, where applicable, much cheaper gas costs!)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-works"><strong>Related works</strong><a href="#related-works" class="hash-link" aria-label="Direct link to related-works" title="Direct link to related-works">​</a></h2>
<p>Our timelock work has already gathered significant interest from the community and we’re happy to report that there already exists:</p>
<ul>
<li>a <a href="https://github.com/timoth-y/tlock-rs" target="_blank" rel="noopener noreferrer"><strong>tlock-rs library</strong></a> prototype by <a href="https://twitter.com/timoethey" target="_blank" rel="noopener noreferrer"><strong>Timofey Luin</strong></a> supporting only the timelock part of our scheme without the hybrid encryption using age and not compatible with our <code>tle</code> tool. Timofey then used it to benchmark arithmetic circuits doing <a href="https://github.com/timoftime/zk-timelock" target="_blank" rel="noopener noreferrer"><strong>verifiable timelock encryption</strong></a> with Arkworks, cool stuff!</li>
<li>the <a href="https://github.com/thibmeu/tlock-rs" target="_blank" rel="noopener noreferrer"><strong>tlock_age library</strong></a> by <a href="https://twitter.com/thibmeu" target="_blank" rel="noopener noreferrer"><strong>Thibault Meunier</strong></a>, which started as a fork of the tlock-rs library adding age support to it and making it compatible with the age-based scheme implemented in our <code>tlock</code> and <code>tlock-js</code> libraries as well as in our <code>tle</code> tool. Thibault also changed the API significantly and is looking at migrating to a much faster Rust BLS12-381 implementation. If you’re looking at using timelock in Rust, search no more!</li>
<li>a <a href="https://github.com/thibmeu/drand-rs" target="_blank" rel="noopener noreferrer"><strong>CLI tool in Rust</strong></a>, called <code>dee</code>, also by <a href="https://twitter.com/thibmeu" target="_blank" rel="noopener noreferrer"><strong>Thibault</strong></a>, that uses his library in order to be compatible with <code>tle</code> but that also has cool drand-related features to get verifiable, public randomness. It also has a different set of flags.</li>
</ul>
<p>We are also aware of a few blockchain ecosystems that are currently looking into building on top of the BLS signatures emitted by the League of Entropy in order to achieve their own timed release encryption scheme. Stay tuned for more timelock-related news in the coming months!</p>
<p>Finally, don’t hesitate to <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer"><strong>join our drand Slack Workspace</strong></a> to discuss timelock encryption, or share with us your cool use cases for it, or follow us on our <a href="https://twitter.com/drand_loe" target="_blank" rel="noopener noreferrer"><strong>newly created @drand_loe Twitter account</strong></a> to stay tuned with the latest news from the drand team. Until next time!</p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="conferences and events tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/conferences-and-events">Conferences-and-Events</a></li><li class="tag_QGVx"><a title="begginer tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/features">Features</a></li><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/drand-on-filecoin-virtual-machine-FVM-draffle">drand on Filecoin Virtual Machine (FVM) - draffle</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-15T00:00:00.000Z">March 15, 2023</time> · <!-- -->12 min read</div></header><div class="markdown"><p>To mark the launch of user-programmable smart contracts on the Filecoin Virtual Machine (FVM), the drand team is excited to release a three-part blog series on using randomness on the FVM! In this first part, we dive into the prevrandao EVM opcode (the FVM fully supports EVM bytecode!), a sample Solidity contract using it, a UI to interact with it, and some other necessary plumbing to make it all work.</p>
<p>If you want to skip all the wonderful learning, you can jump straight into the demo project we developed <a href="https://github.com/drand/draffle" target="_blank" rel="noopener noreferrer"><strong>on GitHub</strong></a> - the contract is deployed at address <code>0x9D38f3BB80D98cE09C3f0936Bea140181d4CCABA</code> on the Hyperspace testnet! A little familiarity with <a href="https://soliditylang.org/" target="_blank" rel="noopener noreferrer"><strong>Solidity</strong></a> will be helpful to follow along, but anyone familiar with a C-style language should be able to get the gist.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-randomness-on-the-blockchain-️">🎲 <strong>Randomness on the Blockchain</strong> ⛓️<a href="#-randomness-on-the-blockchain-️" class="hash-link" aria-label="Direct link to -randomness-on-the-blockchain-️" title="Direct link to -randomness-on-the-blockchain-️">​</a></h2>
<p>When developers think of randomness, we most often think of private randomness - for example, <a href="https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator" target="_blank" rel="noopener noreferrer"><strong>using a cryptographically secure pseudorandom number generator</strong></a> such as <a href="https://en.wikipedia.org/wiki//dev/random" target="_blank" rel="noopener noreferrer"><strong>/dev/random/</strong></a> to generate a private key. When executing a smart contract in a blockchain ecosystem, this poses a few challenges: Who provides the randomness? How do you know it&#x27;s random? If you interact with a smart contract, you can&#x27;t trust the author to generate randomness for you, as they may have a vested interest in the outcome. Similarly, you can&#x27;t trust miners to generate the randomness for you, as they too might have an interest in the outcome (or wish to collude with other participants).</p>
<hr>
<p>To be more concrete: <strong>Suppose I&#x27;m running a raffle via a smart contract</strong>, and users enter the draw by calling a function such as the following:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">address[] entrants;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function enter() external {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entrants.push(msg.sender);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Everybody who submits a transaction (and has it mined) has their address added to the list of entrants, which will be &quot;randomly&quot; drawn from. As the <em>totally unbiased</em> author of the smart contract, I&#x27;ve provided another function that allows me to draw the randomly chosen participant:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">event Winner(address theWinner);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function draw(uint32 someTotallyRandomNumber) external {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(author == msg.sender, &quot;Only the completely unbiased author can execute the draw winner!&quot;); // assuming we have set the `author` field in the constructor somewhere</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    emit Winner(entrants[someTotallyRandomNumber]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Of course, in blockchain-land, the state of the contract is public to everyone, and you as the author could simply register your own address as an entrant and pass in its index to win the raffle yourself!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-ethereum-increases-fairness"><strong>How Ethereum Increases Fairness</strong><a href="#how-ethereum-increases-fairness" class="hash-link" aria-label="Direct link to how-ethereum-increases-fairness" title="Direct link to how-ethereum-increases-fairness">​</a></h3>
<p>To address the challenges of randomness in smart contracts, the Ethereum community created <a href="https://github.com/randao/randao" target="_blank" rel="noopener noreferrer"><strong>RANDAO</strong></a>, a Decentralized Autonomous Organization (DAO) for providing randomness.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-randao-works"><strong>How RANDAO Works</strong><a href="#how-randao-works" class="hash-link" aria-label="Direct link to how-randao-works" title="Direct link to how-randao-works">​</a></h3>
<ol>
<li><strong>Contribution Phase</strong>:<!-- -->
<ul>
<li>In each block, 128 addresses from the network can contribute their piece of randomness.</li>
<li>Contributors send a small amount of ETH to the RANDAO contract along with a hash of their chosen random number.</li>
</ul>
</li>
<li><strong>Reveal Phase</strong>:<!-- -->
<ul>
<li>Six blocks later, contributors reveal their number.</li>
<li>Revealing the number earns them an ETH bounty.</li>
<li>Failing to reveal the number results in the loss of their deposited ETH.</li>
</ul>
</li>
<li><strong>Aggregation Phase</strong>:<!-- -->
<ul>
<li>Revealed numbers are combined to create a final random number.</li>
<li>This final random number is included in the block and is available to smart contracts in the next block using the prevrandao opcode.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advantages-over-single-author-randomness"><strong>Advantages Over Single-Author Randomness</strong><a href="#advantages-over-single-author-randomness" class="hash-link" aria-label="Direct link to advantages-over-single-author-randomness" title="Direct link to advantages-over-single-author-randomness">​</a></h3>
<ol>
<li><strong>Verifiability</strong>:<!-- -->
<ul>
<li>Users can inspect the RANDAO contract state and see all the inputs combined to create the final random number.</li>
<li>This transparency attests to the method of construction and ensures fairness.</li>
</ul>
</li>
<li><strong>Reduced Bias</strong>:<!-- -->
<ul>
<li>Instead of relying on a single <em>totally unbiased</em> author, up to 128 parties are involved in creating the randomness.</li>
<li>This makes it much harder to influence the output, raising the bar for any potential bias.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-challenges-and-limitations">⛔ <strong>Challenges and Limitations</strong><a href="#-challenges-and-limitations" class="hash-link" aria-label="Direct link to -challenges-and-limitations" title="Direct link to -challenges-and-limitations">​</a></h3>
<p>While RANDAO improves fairness, it is not entirely immune to manipulation. One such challenge is the &#x27;last mover&#x27;s advantage&#x27;:</p>
<ul>
<li><strong>Commit/Reveal Scheme</strong>: Participants commit to a random number ahead of time by providing the corresponding (SHA-3) hash. Later, they can choose to reveal or not reveal that number.</li>
<li><strong>Last Mover&#x27;s Advantage</strong>: The last participant to reveal their number can choose to reveal or not reveal it based on the desired outcome, thereby biasing the final output.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="illustrating-last-movers-advantage"><strong>Illustrating Last Mover&#x27;s Advantage</strong><a href="#illustrating-last-movers-advantage" class="hash-link" aria-label="Direct link to illustrating-last-movers-advantage" title="Direct link to illustrating-last-movers-advantage">​</a></h3>
<p>Imagine a scenario with 10 slots where each participant decides a single bit of the output number:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Number | 1 | 1 | 0 | 1 | 0 | 0 | 0 | 1 | 0 | ? |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Slot   | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Suppose the committed number is <code>1</code>.</li>
<li>The last participant can influence the final bit by deciding whether to reveal or not reveal their number.</li>
<li>For example, if a coin-flipping smart contract uses the last bit to determine heads (1) or tails (0), the last participant can ensure a desired outcome by revealing or not revealing their number.</li>
</ul>
<p>In practice, the influence is probabilistic and not direct. However, larger players who can fill more of the &#x27;slots&#x27; in RANDAO can still exert undue influence.</p>
<p>By involving multiple parties and ensuring transparency, RANDAO significantly enhances the fairness and reliability of randomness in smart contracts, despite its limitations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="randao-on-fvm"><strong>RANDAO on FVM</strong><a href="#randao-on-fvm" class="hash-link" aria-label="Direct link to randao-on-fvm" title="Direct link to randao-on-fvm">​</a></h3>
<p>RANDAO on EVM is still great - the above is more an insight into some of the security assumptions around it, as a way of introducing FVM&#x27;s approach to RANDAO and contrasting it. As the FVM is EVM compatible (i.e., everything possible in EVM bytecode is also possible on the FVM), it must also provide a <code>prev_randao</code> opcode for use in smart contracts and compatibility purposes. Instead of bridging to Ethereum or running its own RANDAO (both of which could happen in the future), Filecoin already has its own source of randomness used for leader election: drand.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="refresher-of-how-drand-works"><strong>Refresher of how drand works</strong><a href="#refresher-of-how-drand-works" class="hash-link" aria-label="Direct link to refresher-of-how-drand-works" title="Direct link to refresher-of-how-drand-works">​</a></h3>
<ul>
<li><strong>Threshold Network</strong>: drand is a <a href="https://en.wikipedia.org/wiki/Threshold_cryptosystem" target="_blank" rel="noopener noreferrer"><strong>threshold network</strong></a> that provides publicly verifiable, unbiasable randomness. It exploits the fact that the hash of a signature is indistinguishable from randomness to people without the associated private key.</li>
<li><strong>Cooperative Action</strong>: A threshold network is a network of nodes that can cooperatively perform actions such as signing. Enough nodes need to work together (referred to as the &#x27;threshold&#x27;) to perform these actions.</li>
<li><strong>Shamir&#x27;s Secret Sharing</strong>: Using a form of <a href="https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing" target="_blank" rel="noopener noreferrer"><strong>Shamir&#x27;s Secret Sharing</strong></a>, the network creates a cryptographic keypair that no single member of the group has the private key of. Instead, they each get a share of that private key and must aggregate a threshold number of signatures to create a full signature on behalf of the entire group.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-of-drand"><strong>Key Features of drand</strong><a href="#key-features-of-drand" class="hash-link" aria-label="Direct link to key-features-of-drand" title="Direct link to key-features-of-drand">​</a></h3>
<ul>
<li><strong>Unbiasable Randomness</strong>: Unlike RANDAO, nodes in drand cannot influence the final random output. Once the keypair is generated, all future random numbers are deterministically decided, but nobody can get them until they&#x27;ve received a threshold number of signatures for each number.</li>
<li><strong>Security Considerations</strong>: One drawback is that if a threshold number of nodes were compromised, all future random numbers could be derived.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="drand-in-filecoin"><strong>drand in Filecoin</strong><a href="#drand-in-filecoin" class="hash-link" aria-label="Direct link to drand-in-filecoin" title="Direct link to drand-in-filecoin">​</a></h3>
<ul>
<li><strong>Inclusion in Blocks</strong>: In Filecoin, the drand randomness beacon for the current time is included in every block&#x27;s headers.</li>
<li><strong>Usage in Smart Contracts</strong>: When a contract calls the <code>prevrandao</code> opcode, the randomness from the previous block is provided to it. This offers a straightforward method of using randomness on-chain, though with some potential pitfalls to consider.</li>
</ul>
<hr>
<p>Okay - without further ado let&#x27;s jump into the web app and code!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-ui">The UI<a href="#the-ui" class="hash-link" aria-label="Direct link to The UI" title="Direct link to The UI">​</a></h2>
<p>When the user first opens the UI, they should see something like this:</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/start.bdca1319.png" src="/assets/images/start.bdca1319-5b6ec8b47e6a2be361d8b5ebd73a236f.png" width="2048" height="1042" class="img_ev3q"></p>
<p>On the left-hand side we see when the next draw is scheduled, the current block and any draws that have already happened. There’s also a button labelled ‘Enter the next draw’ that we can click to pay the entry fee via our Metamask wallet. When we click it, a popup from Metamask such as the following appears:</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/connect-wallet.083095e5.png" src="/assets/images/connect-wallet.083095e5-f1603df1091b63db423dd7e7245fe794.png" width="712" height="1394" class="img_ev3q"></p>
<p>Once we’ve confirmed the transaction, we’ve now entered the draw:</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/draw-accepted.2ff1aab6.png" src="/assets/images/draw-accepted.2ff1aab6-d1598b7ac9596149bffc8764498031e8.png" width="2048" height="1043" class="img_ev3q"></p>
<p>If you’re on hyperspace, we can wait up to 24 hours (the default) until the next draw is scheduled, and we will be able to trigger it (in the next section we’ll find how to reduce that to any time we want for easier testing). At the time of the draw, the right-hand side of the UI will have changed:</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/trigger-draw.4356efc5.png" src="/assets/images/trigger-draw.4356efc5-9cf48c8285526c36ea5093aec44344c0.png" width="2048" height="1049" class="img_ev3q"></p>
<p>At the draw block height, users will be able to compete to trigger the draw and receive a small payout. Once the draw has been triggered, a new one is scheduled:</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/draw-triggered.ac101ff4.png" src="/assets/images/draw-triggered.ac101ff4-f2804b448884e9c64783c4af3f3a0724.png" width="2048" height="1049" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-contract">The Contract<a href="#the-contract" class="hash-link" aria-label="Direct link to The Contract" title="Direct link to The Contract">​</a></h2>
<p>First off, in the <code>./contracts/</code> directory, we have a single file called <a href="https://drand.love/blog/2023/03/16/draffle/contracts/DRaffle.sol" target="_blank" rel="noopener noreferrer"><strong>DRaffle.sol</strong></a>. It contains the solidity code which will be run on FVM to manage all the entrants and payouts from the contest. Let&#x27;s take a look at its constructor and fields:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">solidityCopy code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint256 costPerDraw;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint256 drawCutoff;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint256 triggerReward;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint256 nextDrawBlockHeight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address[] candidates;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constructor(uint256 roundCutoff, uint256 cost, uint256 reward) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    costPerDraw = cost;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    triggerReward = reward;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    drawCutoff = roundCutoff;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scheduleNext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The first field set in the constructor enables the author of the contract to choose a <code>cost</code> of entry (in FIL). All entrants will pay it, and (nearly all of) the total pool for every draw will be paid out to the winning address.</li>
<li>The second field set is a <code>reward</code> for users who initiate the draw. As the contract runs on-chain, we can&#x27;t easily (in solidity anyway) schedule future draws automagically - we have to rely on somebody in the ecosystem submitting a transaction to trigger the draw. To incentivise that, we&#x27;ll provide a small FIL bounty to cover the transaction fee plus a little extra, so users will want to trigger the draw.</li>
<li>The final field set - <code>drawCutOff</code> - is the number of blocks in advance we wish to close entries for a given draw. Readers with a keen eye will have noticed in the explanation of the <code>prevrandao</code> instruction, that it returns the randomness from the <em>previous</em> block header, and not the current block. Entrants could therefore know the random number used for a draw in advance of the draw happening.<!-- -->
<ul>
<li><em>In follow-up blog posts, we&#x27;ll discuss how we can use more current randomness to avoid this pitfall, but for now let&#x27;s close draws a few blocks in advance to eliminate this possibility of gaming the draw.</em></li>
</ul>
</li>
<li>Finally the constructor calls the <code>scheduleNext</code> function which will set the <code>nextDrawBlockHeight</code> field, clear any candidates and emit some convenient events for the UI to consume. It&#x27;s implementation is as follows:</li>
</ul>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">solidityCopy code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function scheduleNext() internal {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    candidates = new address ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nextDrawBlockHeight = block.number + 2880;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    emit Scheduled(nextDrawBlockHeight);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With this implementation a draw will happen once every 24 hours (Filecoin mines a block every 30 seconds, i.e. 2 per minute, 60 minutes per hour, 24 hours per day- 2 * 60 * 24 = 2880), but it can easily be configured to be more frequent.</p>
<p>Now to our function users will call to enter the draw:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">solidityCopy code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function enter() external payable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(msg.value == costPerDraw, &quot;you have passed too much or too little money to enter the lotto&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(block.number &lt; nextDrawBlockHeight - drawCutoff, &quot;It&#x27;s too close to the next draw to participate&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    candidates.push(msg.sender);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s quite simple: users must pass a token amount equal to the <code>costPerDraw</code> into the contract with their transaction (hence the <code>payable</code> keyword). If they correctly do that and it&#x27;s not too close to the draw (remembering our <code>prevrandao</code> limitation discussed above!), their address is added to the candidate list for the draw.</p>
<p>The final important function is the draw function itself:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">solidityCopy code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function draw() external payable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // first we ensure that users can&#x27;t trigger the draw too early</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // we let them draw late, because perhaps nobody could get a transaction mined for the exact block height!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(block.number &gt;= nextDrawBlockHeight, &quot;it&#x27;s too early to trigger the draw!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if nobody entered the draw, and thus there is no money to pay out, we send an event that there was no winner and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // just schedule the next draw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint numberOfEntries = candidates.length;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (numberOfEntries == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit NoWinner(block.number);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if there are candidates for the draw, we use the `prevrandao` value from the block, and turn it into an index to choose the winner.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // note: using the modulo operation can result in an output bias - check this great blog post on the matter: &lt;https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        address winner = candidates[block.prevrandao % numberOfEntries];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount = numberOfEntries * costPerDraw - triggerReward;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // we pay out the chosen winner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        payable(winner).transfer(amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and also pay out the `triggerReward` to the address who triggered the draw successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // a small point to note is that they won&#x27;t get paid out if there are no entrants...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // paying them out would require the contract to maintain its own balance of tokens to pay out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // raffles with no entries, so it&#x27;s been omitted for convenience, but it&#x27;s something to consider if you</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // decide to run your own raffle!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        payable(msg.sender).transfer(triggerReward);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and emit an event to let any listeners know who won!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Winner(block.number, winner, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // finally, regardless of whether there is a winner or not we want to schedule the next draw as we saw in the constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scheduleNext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>So that&#x27;s it for part 1 - how to run a raffle using drand on the FVM via solidity. The sample repository contains a lot more useful tooling for deploying your own smart contract to the <a href="https://hyperspace.yoga/" target="_blank" rel="noopener noreferrer"><strong>Hyperspace testnet</strong></a> or your own local <a href="https://trufflesuite.com/ganache/" target="_blank" rel="noopener noreferrer"><strong>ganache network</strong></a>. In our next post, we&#x27;ll discuss how to use more immediate randomness functionality specific to the FVM, stepping outside the bounds of EVM compatibility.</p>
<p>Until then you can find the team on both the <a href="https://filecoin.io/slack" target="_blank" rel="noopener noreferrer"><strong>Filecoin slack</strong></a> and our own <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer"><strong>drand slack</strong></a> should you have any questions. Enjoy deploying cool projects to the FVM, and let us know how you&#x27;ve been using the FVM and randomness!</p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="fvm tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/fvm">FVM</a></li><li class="tag_QGVx"><a title="begginer tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/features">Features</a></li><li class="tag_QGVx"><a title="how to tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/how-to">How-to</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/auttomata-network-joins-the-league-of-entropy">Automata Network Joins the League of Entropy!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-14T00:00:00.000Z">March 14, 2023</time> · <!-- -->4 min read</div></header><div class="markdown"><p>We are proud to announce that <a href="https://www.ata.network/" target="_blank" rel="noopener noreferrer">Automata Network</a>, a web3 middleware protocol focused on protecting fairness &amp; privacy, is joining forces with the League of Entropy (LoE)! Automata is becoming the 17th member to join the LoE and the first partner joining from Singapore - a significant milestone for the LoE.</p>
<p>We’ve asked Automata some key questions that we’ve regularly ask of new LoE members - see <a href="/blog/page/The Value of drand (Part 1 of 2) 0cc0bb5ecb6d471da62152370180701b.md"><strong>here</strong></a>, <a href="/blog/page/The Value of drand (Part 2 of 2) 6d53b4cc6b5f4f31a8cab0b3fe2e94c3.md"><strong>here</strong></a> and <a href="/blog/page/StorSwift joins the League of Entropy! 4cfa4cda241e4769a98f410428e93ebf.md"><strong>here</strong></a> - on the value of drand. Here are the team&#x27;s answers.</p>
<hr>
<p><strong>Why is drand important as a protocol for the next generation of the Internet in your opinion?</strong></p>
<ul>
<li>Randomness plays a critical role in modern infrastructure, but by far the most important and widely used aspect of it is within the field of cryptography. What really impressed us about drand was how the system approaches and realizes randomness - instead of having a single entity that controls the infrastructure where it runs, beacon providers work together and run their own nodes to ensure that no single party can either bias or predict the final output.</li>
<li>A diverse set of stakeholders is important in so many ways; in ensuring the integrity of the randomness being generated; in improving the transparency of the source of randomness; in making it such that no individual party is the single point of failure, be it benign or malicious. While Web3 on its own can sometimes be too vague to be a coherent goal, drand is an excellent example of what it takes to get the job done in a distributed fashion.</li>
</ul>
<hr>
<p><strong>Why did you decide to join the League of Entropy? What value do you see in drand that is important for your mission? What convinced you to join?</strong></p>
<ul>
<li>Fairness and privacy are important to us at Automata. The rise of Web3 - which has shown itself to be as much an ideological movement as much as it has been an economic one - has given us reason to believe that its subsequent development will be governed by a set of rules quite unlike its predecessors. A decentralized source of randomness is fundamental to a decentralized Web3.</li>
<li>In particular, there are a few characterizations that are helpful to keep in mind when it comes to considering what constitutes high-quality randomness: Anyone (such as users!) should be able to verify that a number is legitimately random. Randomness needs to be unbiased. No participant should be able to influence the output in any measure or way. Randomness needs to be unpredictable. No participant should be able to predict the output (or its properties) before it has been generated</li>
<li>drand’s passion about verifiable, unpredictable and bias-resistant randomness really spoke to us, and joining the League was an easy decision.</li>
</ul>
<hr>
<p><strong>Please explain briefly how you use drand in your setup.</strong></p>
<ul>
<li>Using random numbers generated by drand’s distributed randomness beacon helps to ensure the “freshness” of the information at the point of computation, a global timestamp if you will. By integrating the latest number by drand - 256 bits of entropy generated every 30 seconds (also available every 3s in the latest deployment) - and ensuring that the random number is only valid during the interval it is generated, attackers are restricted in their ability to perform brute-force attacks, like reversing a one-way function.</li>
<li>Pre-computation is not possible if the number is not yet known and the interval limits the time attackers have to guess for any given valid number.</li>
</ul>
<hr>
<p><strong>Where would you like to see drand in 2 years from now? What should we have achieved?</strong></p>
<ul>
<li>We’ve been keeping a keen eye on drand’s roadmap and there have been some pretty exciting developments, including the Time-lock-encryption and Unchained Randomness, which now allows each randomness beacon to be independent of the previous one.</li>
<li>We would love to see drand grow to be the definitive source of randomness for Web3 and for the project to extend its capabilities in more impactful ways, some of which are: a) On-demand randomness for specific requests, such as the generation of random nonces to cater to users who need tailored randomness, b) Verifiable, confidential randomness to enable a wider range of use-cases such as gaming.</li>
</ul>
<hr>
<p><em>The League of Entropy evaluates, votes on, and onboards new members quarterly. If you want to be a part of the first production-grade distributed randomness beacon and help provide publicly verifiable randomness as a service, contact us at <a href="mailto:leagueofentropy@googlegroups.com" target="_blank" rel="noopener noreferrer">leagueofentropy@googlegroups.com</a>. We are looking for enthusiastic teams with experience running secure production services who are interested in operating drand nodes and relays. We also encourage you to check out the <a href="https://github.com/drand" target="_blank" rel="noopener noreferrer"><strong>drand GitHub repository</strong></a> for details and <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer"><strong>join us on slack</strong></a>.</em></p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="league of entropy tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/League-of_entropy">League-of-Entropy</a></li><li class="tag_QGVx"><a title="new members tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/new-members">New-Members</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/a-guide-on-how-to-use-drand">A Guide on how to use drand</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-21T00:00:00.000Z">February 21, 2023</time> · <!-- -->5 min read</div></header><div class="markdown"><p>In this blog post, we’ll dive into the fascinating world of public randomness and provide a step-by-step tutorial on how to consume randomness from drand and use it in your applications. Get ready for an exciting journey into the heart of randomness!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-public-randomness">Why Public Randomness?<a href="#why-public-randomness" class="hash-link" aria-label="Direct link to Why Public Randomness?" title="Direct link to Why Public Randomness?">​</a></h3>
<p>Most developers are familiar with private randomness: we use randomness to generate keypairs, randomize back off timings in distributed systems, choose stats for games, and a plethora of other things. This makes sense—if the randomness used to generate our keypairs was public, bad actors could intercept all our communications or steal our bitcoin!</p>
<p>However, some applications that currently use private randomness might be better served using public randomness. For example, online casinos generate random numbers to order cards dealt or determine a winner. We must trust that these casinos use effective random number generators, but <a href="http://web.archive.org/web/20210615005520/http://www.lauradhamilton.com/random-lessons-online-poker-exploit" target="_blank" rel="noopener noreferrer">history has shown this is not always the case</a>. If they committed to a random number generated by a third party (or third parties), or used some kind of <em>verifiable randomness</em>, this could improve fairness and increase user trust.</p>
<p>For cases such as random distribution of welfare (e.g., <a href="https://en.wikipedia.org/wiki/Universal_basic_income" target="_blank" rel="noopener noreferrer">universal basic income</a> experiments), the government could use a third party such as an NGO to draw random numbers. However, this still constitutes a weak link, as a single third party <a href="https://en.wikipedia.org/wiki/Dual_EC_DRBG#Software_and_hardware_which_contained_the_possible_backdoor" target="_blank" rel="noopener noreferrer">could be unduly influenced</a> to bias the randomness.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enter-drand">Enter drand<a href="#enter-drand" class="hash-link" aria-label="Direct link to Enter drand" title="Direct link to Enter drand">​</a></h3>
<p>drand is built upon a <a href="https://en.wikipedia.org/wiki/Threshold_cryptosystem" target="_blank" rel="noopener noreferrer">threshold network</a>. Instead of relying on a single third party, multiple third parties work together to generate a random number. It exploits the fact that a hashed signature has all the properties of randomness as long as nobody holds the secret key. Due to the way drand <a href="https://evervault.com/blog/shamir-secret-sharing" target="_blank" rel="noopener noreferrer">distributes keys</a>, no party ever has the whole secret key, and as such no one can ever predict the signature generated—woohoo, randomness! These properties are why projects such as <a href="https://socialincome.org/" target="_blank" rel="noopener noreferrer">Social Income</a> are building on top of drand for their randomness!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-drand">Using drand<a href="#using-drand" class="hash-link" aria-label="Direct link to Using drand" title="Direct link to Using drand">​</a></h3>
<p>Presently, the drand network generates a random hex string every thirty seconds. It can be verified using the public key of the network, so you can receive randomness from an untrusted party and verify that it’s truly been created by the drand network. This powerful property simplifies your trust assumptions: you can receive randomness without having to trust the node that sent you the message because you can verify it for yourself.</p>
<p>In this tutorial, we&#x27;re going to fetch randomness using the <a href="https://github.com/drand/drand-client" target="_blank" rel="noopener noreferrer">official JavaScript client</a>, but you could also use the <a href="https://github.com/drand/drand/tree/master/client" target="_blank" rel="noopener noreferrer">official Go client</a>, one of the <a href="https://github.com/search?q=drand+rust" target="_blank" rel="noopener noreferrer">multiple unofficial Rust clients</a>, or fetch it via curl/libp2p/other channels and verify the BLS signatures yourself.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up">Setting Up<a href="#setting-up" class="hash-link" aria-label="Direct link to Setting Up" title="Direct link to Setting Up">​</a></h3>
<p>First, make sure you have a relatively recent version of Node.js (17+) and npm installed. Instructions can be found <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>Then, create a new folder for your project:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir drand-client-tutorial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd drand-client-tutorial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install drand-client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As the drand client is bundled as an ESM module, add <code>&quot;type&quot;: &quot;module&quot;</code> in your <code>package.json</code> to use it.</p>
<p>Create a new file at the root of the project called <code>index.js</code> and open it in your editor of choice.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-randomness">Fetching Randomness<a href="#fetching-randomness" class="hash-link" aria-label="Direct link to Fetching Randomness" title="Direct link to Fetching Randomness">​</a></h3>
<p>The most basic primitive is a <code>Chain</code>—it represents a single network instance hosted by a node. Networks can have different parameters such as frequency, algorithm, and participants, but for our purposes, the default network is enough.</p>
<p>We&#x27;re going to connect to the HTTP API of the drand team’s nodes (<a href="https://api.drand.sh/" target="_blank" rel="noopener noreferrer">api.drand.sh</a>), but you could also use Cloudflare&#x27;s API endpoint (<a href="https://drand.cloudflare.com/" target="_blank" rel="noopener noreferrer">drand.cloudflare.com</a>), or StorSwift’s relay (<a href="https://api.drand.secureweb3.com:6875/" target="_blank" rel="noopener noreferrer">api.drand.secureweb3.com:6875</a>).</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">info</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Run this with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node --experimental-fetch index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(Node versions greater than 18 can skip the <code>--experimental-fetch</code> flag!)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-the-latest-beacon">Fetching the Latest Beacon<a href="#fetching-the-latest-beacon" class="hash-link" aria-label="Direct link to Fetching the Latest Beacon" title="Direct link to Fetching the Latest Beacon">​</a></h3>
<p>To fetch the latest beacon, use the <code>fetchBeacon</code> function:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> fetchBeacon </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetchBeacon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">beacon</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">beacon</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To get the latest beacon by time:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChainClient</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> fetchBeaconByTime </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChainClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetchBeaconByTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">beacon</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">beacon</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For real-time applications, use the <code>watch</code> function to listen for new beacons:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChainClient</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> watch </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChainClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> beacons </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">watch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AbortController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> beacon </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> beacons</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">beacon</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-randomness-effectively">Using Randomness Effectively<a href="#using-randomness-effectively" class="hash-link" aria-label="Direct link to Using Randomness Effectively" title="Direct link to Using Randomness Effectively">​</a></h3>
<p>If we only ever needed a 64-byte random value in our applications, we&#x27;d be finished now. Unfortunately, real-life applications often require more tailored randomness. Here’s how to handle different use cases:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coin-flip-example">Coin Flip Example<a href="#coin-flip-example" class="hash-link" aria-label="Direct link to Coin Flip Example" title="Direct link to Coin Flip Example">​</a></h3>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> fetchBeaconByTime </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetchBeaconByTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">beacon</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> flip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> beacon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">randomness</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">flip </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">beacon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">round</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;: HEADS!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">beacon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">round</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;: TAILS!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avoiding-bias-in-random-selection">Avoiding Bias in Random Selection<a href="#avoiding-bias-in-random-selection" class="hash-link" aria-label="Direct link to Avoiding Bias in Random Selection" title="Direct link to Avoiding Bias in Random Selection">​</a></h3>
<p>For selecting a random winner from a lottery:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpChain</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> fetchBeaconByTime </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;drand-client&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> participants </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;alice&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bob&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;carol&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dave&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;edward&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fiona&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;georgina&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chain </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">HttpChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&lt;https://api.drand.sh&gt;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fetchBeaconByTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chain</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">beacon</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> randomNumber </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> beacon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">randomness</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> winnerIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> randomNumber </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">participants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Rejection sampling to avoid bias</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">winnerIndex </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">participants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    winnerIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0x&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> crypto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">randomBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;hex&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">participants</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">The winner is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">participants</span><span class="token template-string interpolation punctuation" style="color:#393A34">[</span><span class="token template-string interpolation">winnerIndex</span><span class="token template-string interpolation punctuation" style="color:#393A34">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wrapping-up">Wrapping Up<a href="#wrapping-up" class="hash-link" aria-label="Direct link to Wrapping Up" title="Direct link to Wrapping Up">​</a></h3>
<p>Using drand can bring a new level of fairness and verifiability to your applications. Whether you’re flipping coins or selecting lottery winners, drand&#x27;s verifiable randomness ensures transparency and trust. We love hearing about the projects you’re working on, so feel free to <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer">join us on Slack</a> and share your stories or ask for help.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="suggested-readings">Suggested Readings:<a href="#suggested-readings" class="hash-link" aria-label="Direct link to Suggested Readings:" title="Direct link to Suggested Readings:">​</a></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Random_number" target="_blank" rel="noopener noreferrer">Random Number</a></li>
<li><a href="https://en.wikipedia.org/wiki/Threshold_cryptosystem" target="_blank" rel="noopener noreferrer">Threshold Cryptosystem</a></li>
<li><a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator" target="_blank" rel="noopener noreferrer">Pseudorandom Number Generator</a></li>
<li><a href="https://en.wikipedia.org/wiki/Universal_basic_income" target="_blank" rel="noopener noreferrer">Universal Basic Income</a></li>
<li><a href="https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing" target="_blank" rel="noopener noreferrer">Shamir&#x27;s Secret Sharing</a></li>
<li><a href="https://en.wikipedia.org/wiki/Timing_attack" target="_blank" rel="noopener noreferrer">Timing Attack</a></li>
<li><a href="https://en.wikipedia.org/wiki/Dual_EC_DRBG" target="_blank" rel="noopener noreferrer">Dual_EC_DRBG</a></li>
</ul>
<hr>
<p>Until next time, happy coding! 🚀</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="begginer tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/features">Features</a></li><li class="tag_QGVx"><a title="how to tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/how-to">How-to</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/ipfs-force-joins-the-league-of-entropy">IPFS Force joins the League of Entropy!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-26T00:00:00.000Z">January 26, 2023</time> · <!-- -->3 min read</div></header><div class="markdown"><p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/ipfs-force-logo.18be5e96.png" src="/assets/images/ipfs-force-logo.18be5e96-d5b4c6c479f5fe211bd67e98917809ed.png" width="2048" height="481" class="img_ev3q"></p>
<p>We are excited to announce that IPFSForce has joined the League of Entropy!</p>
<p>IPFSForce has focused on technology research and development in blockchain since 2017. With the vision of being Web 3.0’s infrastructure service provider, IPFSForce is working to make storage more efficient, cost-effective, open, and safer. With &quot;Co-built Value, Sharing Honour&quot; as a guiding principle, IPFSForce leverages technologies to empower global communities with high-quality services.</p>
<p>We&#x27;ve asked IPFSForce some key questions that we&#x27;ve previously asked other LoE members - see <a href="/blog/page/The Value of drand (Part 1 of 2) 0cc0bb5ecb6d471da62152370180701b.md"><strong>here</strong></a> and <a href="/blog/page/The Value of drand (Part 2 of 2) 6d53b4cc6b5f4f31a8cab0b3fe2e94c3.md"><strong>here</strong></a> - on the value of drand. Check out what they said.</p>
<hr>
<p><strong>Why is drand important as a protocol for the next generation of the Internet in your opinion?</strong></p>
<ul>
<li>The blockchain industry and the broader Web 3.0 ecosphere are in dire need of a decentralized, scalable, impartial, verifiable, and secure service that delivers randomness, which is exactly the mission of drand: to create and provide such a service. A randomness service is no doubt the most fundamental component to the decentralized world.</li>
</ul>
<hr>
<p><strong>Why did you decide to join the League of Entropy? What value do you see in drand that is important for your mission? In other words, what convinced you to join?</strong></p>
<ul>
<li>Our goal is to become a Web 3.0 infrastructure service provider, and drand is envisioned as an Internet infrastructure level service that offers randomness to applications. That&#x27;s where we&#x27;re comparable in certain ways. Furthermore, it has always been in our best interests to assist and participate in such research-based security tech communities and products focusing on advanced technologies.</li>
</ul>
<hr>
<p><strong>How do you use drand in your setup, infrastructure or application?</strong></p>
<ul>
<li>As an IPFS/Filecoin service provider, we are using drand to provide Filecoin chain services to our customers. drand acts as a randomness beacon in the Filecoin network and has provided us with crucial services in block generation, various stages of <a href="https://spec.filecoin.io/#section-algorithms.pos" target="_blank" rel="noopener noreferrer"><strong>Proof of Replication (PoRep) and Proof of Spacetime (PoSt)</strong></a>.</li>
</ul>
<hr>
<p><strong>Where would you like to see drand in 2 years from now?</strong></p>
<ul>
<li>We expect that the LoE network will be more accessible to Web 3.0 partners, thereby encouraging more developers to be involved and build infrastructure and dApps utilizing drand as a randomness service. It is only with more partners engaging that the LoE network will be able to grow and better serve the Web 3.0 globe.</li>
</ul>
<hr>
<p><em>The League of Entropy evaluates, votes on, and onboards new members quarterly. If you want to be a part of the first production-grade distributed randomness beacon and help provide publicly verifiable randomness as a service, contact us at <a href="mailto:leagueofentropy@googlegroups.com" target="_blank" rel="noopener noreferrer">leagueofentropy@googlegroups.com</a>. We are looking for enthusiastic teams with experience running secure production services who are interested in operating drand nodes and relays. We also encourage you to check out the drand GitHub repository for details.</em></p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="league of entropy tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/League-of_entropy">League-of-Entropy</a></li><li class="tag_QGVx"><a title="new members tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/new-members">New-Members</a></li><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/drand-2022-year-in-review-&amp;-our-2023-roadmap">drand: 2022 Year in Review &amp; our 2023 Roadmap</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-22T00:00:00.000Z">January 22, 2023</time> · <!-- -->5 min read</div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="drand-2022-year-in-review">drand: 2022 Year in Review<a href="#drand-2022-year-in-review" class="hash-link" aria-label="Direct link to drand: 2022 Year in Review" title="Direct link to drand: 2022 Year in Review">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-reflections-on-a-year-of-achievements">🥳 Reflections on a Year of Achievements<a href="#-reflections-on-a-year-of-achievements" class="hash-link" aria-label="Direct link to 🥳 Reflections on a Year of Achievements" title="Direct link to 🥳 Reflections on a Year of Achievements">​</a></h3>
<p>As 2022 wrapped up, the drand team took a moment to reflect on the incredible journey we’ve been on. The year was packed with milestones, innovations, and expansions that have set the stage for an exciting future. Here’s a look back at some of the standout moments from our year.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-new-features-that-shaped-our-journey">🆕 New Features That Shaped Our Journey<a href="#-new-features-that-shaped-our-journey" class="hash-link" aria-label="Direct link to 🆕 New Features That Shaped Our Journey" title="Direct link to 🆕 New Features That Shaped Our Journey">​</a></h3>
<p>One of the highlights of 2022 was the development of some game-changing features:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-unchained-randomness-and-higher-frequency-beacons-">⛓️ Unchained Randomness and Higher Frequency Beacons 🚨<a href="#️-unchained-randomness-and-higher-frequency-beacons-" class="hash-link" aria-label="Direct link to ⛓️ Unchained Randomness and Higher Frequency Beacons 🚨" title="Direct link to ⛓️ Unchained Randomness and Higher Frequency Beacons 🚨">​</a></h3>
<p>Early in the year, we rolled out unchained randomness and higher frequency beacons on our testnet. These features have shown immense potential, and we’ve been thrilled with their performance. They promise to expand the horizons for drand and the applications using it. We’ve been testing them rigorously, and they’ve been operational for several months now.</p>
<p><em>Want to dive deeper? Check out <a href="/blog/page/Multi-Frequency Support &amp; Timelock Encryption are  5c3651ad243541b698024016ecd24d26.md">Multi-Frequency Support &amp; Timelock Encryption are coming to drand!</a> for all the details.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-timelock-encryption">⏱️ Timelock Encryption<a href="#️-timelock-encryption" class="hash-link" aria-label="Direct link to ⏱️ Timelock Encryption" title="Direct link to ⏱️ Timelock Encryption">​</a></h3>
<p>Building on the success of unchained randomness, we developed Timelock Encryption on drand. This feature has been a hit, garnering a lot of attention and excitement. While it’s still in the testnet phase, we’ve already launched a web app, <a href="https://timevault.drand.love/" target="_blank" rel="noopener noreferrer">Timevault</a>, and we’re looking forward to deploying it on the mainnet soon. Stay tuned for updates!</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-enhancing-network-visibility">🔭 Enhancing Network Visibility<a href="#-enhancing-network-visibility" class="hash-link" aria-label="Direct link to 🔭 Enhancing Network Visibility" title="Direct link to 🔭 Enhancing Network Visibility">​</a></h3>
<p>Monitoring and maintaining a robust network is crucial. This year, we made significant strides in enhancing our visibility into the drand network:</p>
<ul>
<li><strong>Integrated Metrics:</strong> We embedded metrics directly into our codebase, providing a clearer view of the network’s health.</li>
<li><strong>New Dashboard:</strong> We built a comprehensive dashboard that gives us a holistic view of nodes before, during, and after resharing ceremonies. This tool has been instrumental in enabling async ceremonies, making the process more flexible for node operators.</li>
</ul>
<p><em>Curious about the technical details? Read more in <a href="/blog/page/Observing Randomness 80ade6b218314dde955b5692473d8c1c.md">Observing Randomness</a></em></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-taking-drand-to-new-heights--literally">🛰️ Taking drand to New Heights – Literally!<a href="#️-taking-drand-to-new-heights--literally" class="hash-link" aria-label="Direct link to 🛰️ Taking drand to New Heights – Literally!" title="Direct link to 🛰️ Taking drand to New Heights – Literally!">​</a></h3>
<p>One of the most exciting developments of 2022 was our collaboration with CryptoSat. In October, we deployed drand on one of their satellites, sending it into space! This space node interacted with ground station nodes, marking a significant milestone in our journey.</p>
<p>We’re not stopping there. Our goal is to have a permanent drand node operating from space, further enhancing the resilience of our network.</p>
<p><em>Read all about this groundbreaking achievement in <a href="/blog/page/CryptoSat takes drand to Space! 0d0538c9c0df418a9aacf42859eb079f.md">CryptoSat takes drand to Space!</a></em></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-growing-the-league-of-entropy">🪴 Growing the League of Entropy<a href="#-growing-the-league-of-entropy" class="hash-link" aria-label="Direct link to 🪴 Growing the League of Entropy" title="Direct link to 🪴 Growing the League of Entropy">​</a></h3>
<p>2022 was also a year of growth for the League of Entropy (LoE):</p>
<ul>
<li><strong>New Members:</strong> We welcomed four new members to the League and have several more lined up for consideration in the coming months.</li>
<li><strong>Community Engagement:</strong> We presented drand at several high-profile events, including NorthSec, MCH, and DEFCON. These presentations sparked new collaborations and expanded our community.</li>
</ul>
<p>Interested in joining the League of Entropy? Learn more at <a href="https://www.notion.so/The-League-of-Entropy-1e76674b75e249699445799c5083fe78?pvs=21" target="_blank" rel="noopener noreferrer">The League of Entropy</a></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="celebrating--uptime">Celebrating 💯% Uptime!<a href="#celebrating--uptime" class="hash-link" aria-label="Direct link to Celebrating 💯% Uptime!" title="Direct link to Celebrating 💯% Uptime!">​</a></h3>
<p>We’re proud to report that our network had 100% uptime throughout the year, with no hiccups or disruptions. This level of reliability is a testament to the hard work and dedication of our team.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-looking-ahead-drand-in-2023">😎 Looking Ahead: drand in 2023<a href="#-looking-ahead-drand-in-2023" class="hash-link" aria-label="Direct link to 😎 Looking Ahead: drand in 2023" title="Direct link to 😎 Looking Ahead: drand in 2023">​</a></h3>
<p>As we celebrate our successes, we’re also gearing up for an ambitious 2023. Here’s a sneak peek at what’s in store:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-network-maintenance-and-upgrades">🔧 Network Maintenance and Upgrades<a href="#-network-maintenance-and-upgrades" class="hash-link" aria-label="Direct link to 🔧 Network Maintenance and Upgrades" title="Direct link to 🔧 Network Maintenance and Upgrades">​</a></h3>
<p>Our ongoing commitment to maintaining and enhancing the drand network includes:</p>
<ul>
<li>Optimizing storage for beacons.</li>
<li>Implementing unchained randomness and higher frequency beacons on the mainnet.</li>
<li>Refactoring the Distributed Key Generation (DKG) process to improve resilience and flexibility.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expanding-the-league-of-entropy">Expanding the League of Entropy<a href="#expanding-the-league-of-entropy" class="hash-link" aria-label="Direct link to Expanding the League of Entropy" title="Direct link to Expanding the League of Entropy">​</a></h3>
<p>With improved processes, we’re looking to expand the League of Entropy. We’re also exploring incentive structures to reward those who contribute their time and resources to the network.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-integrating-with-filecoin-virtual-machine-fvm">🪙 Integrating with Filecoin Virtual Machine (FVM)<a href="#-integrating-with-filecoin-virtual-machine-fvm" class="hash-link" aria-label="Direct link to 🪙 Integrating with Filecoin Virtual Machine (FVM)" title="Direct link to 🪙 Integrating with Filecoin Virtual Machine (FVM)">​</a></h3>
<p>The Filecoin team is working on the Filecoin Virtual Machine (FVM), and we’re excited to integrate drand beacons into this system. This will significantly broaden drand’s user base and application scope.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-supporting-the-drand-community">🤝🏽 Supporting the drand Community<a href="#-supporting-the-drand-community" class="hash-link" aria-label="Direct link to 🤝🏽 Supporting the drand Community" title="Direct link to 🤝🏽 Supporting the drand Community">​</a></h3>
<p>We’re committed to making drand more user- and developer-friendly. This includes updating our processes, websites, and “how to” guides, and holding regular “code walkthroughs” and hackathons to engage with our community.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-join-us-on-our-journey">🛣️ Join Us on Our Journey!<a href="#️-join-us-on-our-journey" class="hash-link" aria-label="Direct link to 🛣️ Join Us on Our Journey!" title="Direct link to 🛣️ Join Us on Our Journey!">​</a></h3>
<p>2023 promises to be a year of growth and innovation. We invite you to join us on this exciting journey. Whether you’re a developer, a potential partner, or just a fan of what we’re doing, we’d love to have you involved.</p>
<ul>
<li><strong>Monitor Our Progress:</strong> here on this blog!</li>
<li><strong>Get Involved:</strong> Join the discussion in the drand Slack workspace through this <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer">invitation link</a>.</li>
</ul>
<p>Best wishes for a productive 2023! 🎉</p>
<hr>
<p>Feel free to let us know if you need more adjustments or further details!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/cryptosat-takes-drand-to-space">CryptoSat takes drand to Space!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-19T00:00:00.000Z">October 19, 2022</time> · <!-- -->6 min read</div></header><div class="markdown"><p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/cryptosat-blog-header3.84006631.png" src="/assets/images/cryptosat-blog-header3.84006631-e394f4b58920c86fa32654f97ac123ed.png" width="1400" height="786" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-drand--️-cryptosat-pioneering-space-based-randomness">🎲 drand &amp; 🛰️ CryptoSat: Pioneering Space-Based Randomness<a href="#-drand--️-cryptosat-pioneering-space-based-randomness" class="hash-link" aria-label="Direct link to 🎲 drand &amp; 🛰️ CryptoSat: Pioneering Space-Based Randomness" title="Direct link to 🎲 drand &amp; 🛰️ CryptoSat: Pioneering Space-Based Randomness">​</a></h2>
<p><strong>drand is the next generation distributed randomness service.</strong> It requires several independent organizations to run a node that contributes a part of the randomness to the network. So far, all of the nodes that participate in the <a href="https://blog.cloudflare.com/league-of-entropy/" target="_blank" rel="noopener noreferrer"><strong>League of Entropy’s</strong></a> drand network have been placed on Earth. But this has just changed! Temporarily for now, but hopefully more permanently in the near future. Read on to find out all the details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-cryptosat">What is CryptoSat?<a href="#what-is-cryptosat" class="hash-link" aria-label="Direct link to What is CryptoSat?" title="Direct link to What is CryptoSat?">​</a></h3>
<p><a href="http://cryptosat.io/" target="_blank" rel="noopener noreferrer">CryptoSat</a> builds and launches satellites that power blockchain and cryptographic protocols. Satellites are physically inaccessible and can serve as the most secure root-of-trust that guarantees the confidentiality and integrity of sensitive computations and data. Such tamper-proof satellites can serve numerous use-cases including transaction signing, trusted setups for cryptographic schemes, a randomness oracle, a time-oracle (VDF), and more.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-drand">What is drand?<a href="#what-is-drand" class="hash-link" aria-label="Direct link to What is drand?" title="Direct link to What is drand?">​</a></h3>
<p>drand is designed to be run by a network of nodes to produce verifiable, unpredictable, and non-biasable random values. The primary drand network is operated by a group of partners known as the <em>League of Entropy</em> (LoE). The LoE currently consists of 16 independent member organizations located on several continents and operating 23 nodes across different cloud providers, data centers, and geographies.</p>
<p>drand is based on a cryptography model called “Threshold Cryptography.” According to this model, a <code>threshold</code> number of “partial signatures” need to be collected from different nodes to produce a valid signature for the whole group. In the LoE’s drand network, the <code>threshold</code> is set to 50% of nodes +1, which gives a <code>threshold</code> of 12 for a 23-node network.</p>
<p>The random numbers produced by drand are:</p>
<ul>
<li><strong>Verifiable:</strong> Anyone can verify that a random value was indeed produced by the LoE group by checking the signature and re-deriving the randomness from it themselves.</li>
<li><strong>Unpredictable:</strong> A new random value can only be produced when a <code>threshold</code> number of parts (also called partials) of the final signature are collected and aggregated.</li>
<li><strong>Non-biasable:</strong> It is impossible to influence any future random value without compromising a <code>threshold</code> number of nodes.</li>
</ul>
<p>The LoE drand network has been running since August 2020, has produced more than 2M random values (emitted every 30 seconds) as of September 2022, and has had zero downtime.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-the-experiment">⚗️ The Experiment<a href="#️-the-experiment" class="hash-link" aria-label="Direct link to ⚗️ The Experiment" title="Direct link to ⚗️ The Experiment">​</a></h3>
<p>On March 16th, 2022, CryptoSat conducted a series of experiments aboard the International Space Station (ISS). These experiments tested the operational aspects of performing cryptographic operations from space, as a stepping stone towards running such operations in satellites. One important experiment was to run a drand node on a machine on the ISS and connect it to a drand node on the ground.</p>
<p>First, the two nodes performed a Distributed Key Generation (DKG) procedure. Then, the pair of nodes started periodically producing a random beacon. The experiment established the feasibility of placing a drand node in space, despite operational complexities.</p>
<p>Latency between nodes plays an important role in the drand network, and satellite networks may incur increased latency and delays due to the distance between terrestrial nodes and those on satellites. Spotty connectivity due to “line-of-sight” requirements can cause satellite nodes to disappear and experience severe bandwidth fluctuations.</p>
<p><em>drand was never before tested under such circumstances.</em> The ISS experiment confirmed the feasibility of using the existing drand implementation on a space node, given unpredictable connectivity. However, the ISS experiment provided only limited insight into the long-term ongoing operation of a drand node in space, due to the very limited time frame of the experiment (under an hour). Spotty connectivity needs to be further simulated before deploying drand on an actual satellite.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-importance-and-next-steps">❗ Importance and Next Steps<a href="#-importance-and-next-steps" class="hash-link" aria-label="Direct link to ❗ Importance and Next Steps" title="Direct link to ❗ Importance and Next Steps">​</a></h3>
<p><strong>A signature from space:</strong> Any computer placed on Earth is vulnerable to physical force and penetration through physical access. Although it is very difficult to simultaneously compromise <code>threshold</code> nodes and LoE partners use the highest security standards, a node that operates from space is physically unreachable. This is why CryptoSat’s node, which operates from space, is such an interesting addition to the League of Entropy.</p>
<p>The two teams plan to continue the collaboration and establish CryptoSat’s participation in the League of Entropy as a longer-term commitment. Several things stand out from this vision:</p>
<ol>
<li><strong>Improved Security:</strong> Having a node outside of physical reach further enhances the bias-resistance and resilience of the drand network and randomness service.</li>
<li><strong>Latency Testing:</strong> We will be able to test whether higher latencies influence any part of the drand randomness service, including the DKG itself and the aggregation of partials.</li>
<li><strong>CryptoSat&#x27;s Cryptographic Use Case:</strong> Running drand is generally lightweight in terms of CPU and bandwidth requirements but has increased availability requirements. Stress-testing cryptographic operations helps CryptoSat focus on increasing availability and showcasing progress through clear metrics.</li>
<li><strong>User Flexibility:</strong> Different users have different threat models. CryptoSat provides a node with unique security properties that can withstand coordinated attacks on multiple ground nodes, allowing users to choose whether their use-case requires beacons produced with the participation of CryptoSat.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-whats-next-on-our-roadmap">🗺️ What’s Next on Our Roadmap?<a href="#️-whats-next-on-our-roadmap" class="hash-link" aria-label="Direct link to 🗺️ What’s Next on Our Roadmap?" title="Direct link to 🗺️ What’s Next on Our Roadmap?">​</a></h3>
<p>In May 2022, <a href="https://cointelegraph.com/news/cryptosat-s-first-nanosatellite-blasts-off-wednesday-on-spacex-rocket" target="_blank" rel="noopener noreferrer">CryptoSat launched its first satellite</a>, Crypto1. While the ISS experiment was a valuable proof of concept for running drand in space, the real value comes from a truly physically isolated satellite supporting the drand protocol. Protocol Labs and CryptoSat are aiming to continue co-development towards a functional drand node running aboard a satellite. This requires some refactoring of the drand implementation to separate the cryptographic module that needs to run in space from the parts that communicate with other drand nodes.</p>
<p>As mentioned, the time-constrained ISS experiment doesn’t provide full insight into the ongoing operation of a node with spotty connectivity. We need to simulate a participant node that is only occasionally available to participate in beacon generation rounds, simulating the conditions of a satellite that is sometimes out of reach of any ground station.</p>
<p>The future is bright for this collaboration—not only for the two parties involved but most importantly for the users of drand as a randomness service! Reach out if you have ideas on how to add further value to our upcoming experiments, or if you want to get involved and contribute to drand’s vision. Make sure to join our <a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-19u4rf6if-bf7lxIvF2zYn4~TrBwfkiA" target="_blank" rel="noopener noreferrer"><strong>drand Slack workspace</strong></a>, or reach out by email at: leagueofentropy [ at ] googlegroups.com.</p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/observing-randomness">Observing Randomness</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-08-25T00:00:00.000Z">August 25, 2022</time> · <!-- -->9 min read</div></header><div class="markdown"><p><em>Monitoring distributed systems is a challenge. While there are established patterns and solutions for monitoring the most common types of applications, there is usually no silver bullet. In this blog post, we outline the challenges that we faced when implementing monitoring for one such system, drand.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-drand">What is drand?<a href="#what-is-drand" class="hash-link" aria-label="Direct link to What is drand?" title="Direct link to What is drand?">​</a></h3>
<p><strong>Drand</strong> is a public, verifiable, unpredictable, and unbiased randomness beacon. It is based on the idea that to generate randomness in a reliable and trustworthy way, you cannot depend on a single entity to control the infrastructure where it runs. This led us to seek the collaboration of multiple organizations to run their own drand daemons, forming <a href="https://www.notion.so/The-League-of-Entropy-1e76674b75e249699445799c5083fe78?pvs=21" target="_blank" rel="noopener noreferrer">The League of Entropy</a> (LoE)—a distributed organization where each participating partner runs a drand node.</p>
<p>A drand <em>network</em> is composed of multiple <em>nodes</em>. Each network generates separate randomness beacons at specific intervals, called <em>rounds</em>. The number of nodes on a network is fixed at any given point in time and only changes during a <em>ceremony</em>. During the ceremony, a <em>threshold</em> is set, which is the minimum number of nodes that need to be connected to the network at any given time for randomness generation to succeed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-the-need-for-monitoring">📈 The Need for Monitoring<a href="#-the-need-for-monitoring" class="hash-link" aria-label="Direct link to 📈 The Need for Monitoring" title="Direct link to 📈 The Need for Monitoring">​</a></h3>
<p>To ensure security, we do not allow just any host to join the network at any time. Whenever a host joins or leaves the network, we hold a “ceremony” where cryptographic keys are refreshed and exchanged. In between ceremonies, the list of hosts that participate in a drand network is static. Ceremonies are usually held quarterly, and before each ceremony, an allow list containing the IP addresses of all nodes in the network is distributed to all participants to open the appropriate firewall ports.</p>
<p>Coordinating these ceremonies presents several challenges:</p>
<ul>
<li><strong>Synchronous Operation</strong>: All node operators need to be online simultaneously to execute commands correctly.</li>
<li><strong>Version Mismatch</strong>: Nodes might be running different versions of <code>drand</code>, leading to failures.</li>
<li><strong>Connectivity Issues</strong>: Nodes might have connectivity problems that prevent proper participation.</li>
</ul>
<p>To address these issues, full visibility into the drand network and the state of each node is essential. Our goal is to enable <a href="https://en.wikipedia.org/wiki/Asynchronous_system" target="_blank" rel="noopener noreferrer"><strong>asynchronous ceremonies</strong></a> where operators can execute commands within a timeframe without being online simultaneously. A monitoring tool providing an accurate view of nodes and network states is necessary.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-monitoring-architecture-requirements">📏 Monitoring Architecture Requirements<a href="#-monitoring-architecture-requirements" class="hash-link" aria-label="Direct link to 📏 Monitoring Architecture Requirements" title="Direct link to 📏 Monitoring Architecture Requirements">​</a></h3>
<p>To properly monitor the drand network, we have the following requirements:</p>
<ol>
<li><strong>Allow any LoE member to create their own monitoring infrastructure</strong>: Organizations can select the metrics aggregation platform that best meets their needs.</li>
<li><strong>Ease of deployment</strong>: Modify the drand binary to export metrics without adding a new binary.</li>
<li><strong>Minimize the need for opening network ports</strong>: Ideally, no network ports other than the one used for generating randomness should be opened.</li>
<li><strong>Use industry-standard formats where possible</strong>: Use an industry-standard format to publish metrics.</li>
<li><strong>Ability to see the state of the whole network from any point in the network</strong>: Enable each node to provide a full view of the whole network.</li>
<li><strong>(Close to) real-time view of the network state</strong>: Ensure changes in node state are seen quickly, especially during ceremonies.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-design-decisions">📐 Design Decisions<a href="#-design-decisions" class="hash-link" aria-label="Direct link to 📐 Design Decisions" title="Direct link to 📐 Design Decisions">​</a></h3>
<p>Our requirements led to the following design:</p>
<ul>
<li><strong>Each node exposes its own metrics in Prometheus format</strong>: Prometheus is an <a href="https://en.wikipedia.org/wiki/Prometheus_(software)" target="_blank" rel="noopener noreferrer"><strong>industry-standard</strong></a> format, and each node exposing its own metrics allows direct monitoring of individual nodes.</li>
<li><strong>Each node can retrieve other nodes’ metrics and expose them in Prometheus format</strong>: This enables not only Protocol Labs but any LoE member to create their own dashboards showing the state of the whole network.</li>
<li><strong>Metrics transport uses the same mechanism as inter-node communication for generating randomness (GRPC)</strong>: By using <a href="https://en.wikipedia.org/wiki/GRPC" target="_blank" rel="noopener noreferrer"><strong>GRPC</strong></a>, we allow metrics to be sent between nodes without requiring additional network ports.</li>
<li><strong>Gather metrics using Telegraf and export them to InfluxDB, accessed via Grafana Cloud</strong>: This setup centralizes metrics and creates an easy-to-use dashboard with a one-minute scraping interval, which can be lowered during ceremonies for faster updates.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-metrics-design">📊 Metrics Design<a href="#-metrics-design" class="hash-link" aria-label="Direct link to 📊 Metrics Design" title="Direct link to 📊 Metrics Design">​</a></h3>
<p>We decided to monitor the following minimal information for running a smooth ceremony:</p>
<ul>
<li>Version of <code>drand</code> that the node is running.</li>
<li>Whether nodes have restarted their daemon ahead of the ceremony to ensure that the certificate is still valid and to clear the process’ memory and storage.</li>
<li>Whether nodes have connectivity to all other nodes.</li>
<li>The current ceremony state of the node.</li>
</ul>
<p>For ongoing monitoring, we added the following for each beacon in each node:</p>
<ul>
<li>When the last randomness was generated.</li>
<li>The last round generated by the node for that beacon chain.</li>
<li>The time difference between nodes (including network round-trip times).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-inter-node-communications">📡 Inter-Node Communications<a href="#-inter-node-communications" class="hash-link" aria-label="Direct link to 📡 Inter-Node Communications" title="Direct link to 📡 Inter-Node Communications">​</a></h3>
<p>As mentioned above, one of the requirements was to be able to view the state of the whole drand network without requiring node operators to open any additional holes in their firewall, nor to connect to any hosts other than those included in the drand network itself. Therefore, it was necessary to enable the possibility of fetching a remote node’s metrics via the same method used to coordinate randomness generation: that is, through <a href="https://en.wikipedia.org/wiki/GRPC" target="_blank" rel="noopener noreferrer"><strong>GRPC</strong></a>.</p>
<p>We also wanted to reduce the amount of metrics traffic between nodes, so we went with a pull system where any node can pull any other node’s metrics when requested. For that, we exposed an additional HTTP endpoint that includes the peer’s ID to get Prometheus metrics for the associated peer. A request to that endpoint makes a GRPC call to the remote node to get the metrics before returning them to the client. With this, we have the ability to get metrics from all nodes in the drand network without any unnecessary additional traffic.</p>
<p>The Protocol Labs nodes all run instances of <a href="https://www.influxdata.com/time-series-platform/telegraf/" target="_blank" rel="noopener noreferrer"><strong>Telegraf</strong></a>, whose configuration is hard-coded to get the metrics from all nodes in the drand network. This is possible because the nodes in the network are static and only change during ceremonies. Telegraf then pushes the metrics into <a href="https://www.influxdata.com/" target="_blank" rel="noopener noreferrer"><strong>InfluxDB</strong></a>. We then use <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer"><strong>Grafana</strong></a> to visualize the data.</p>
<p>Regarding LoE members, the fact that metrics are exposed using the industry-standard Prometheus format and that any node can gather metrics from any other node in the network makes it possible for any of them to create a setup similar to this and gather metrics into their own observability solution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-dashboard-design">📉 Dashboard Design<a href="#-dashboard-design" class="hash-link" aria-label="Direct link to 📉 Dashboard Design" title="Direct link to 📉 Dashboard Design">​</a></h3>
<p>As is usually the case, it took multiple iterations to get to a dashboard design that was useful and also comprehensible. These iterations involved both changing the layout and organization of the presented information, as well as adding metrics that were missed during initial analysis. For example, during ceremonies some of the state changes happen so fast that they were missed by the polling and dashboard refresh intervals, so we added timestamps to be able to see whether a state had changed or not. We also reformulated some metrics labels to reduce cardinality.</p>
<p>We ended up with a dashboard with two sections. The first section includes connectivity information for each node, as well as a connectivity matrix showing which nodes are connected to which other nodes. This has enabled us to find problems such as firewall misconfigurations or bugs impacting connectivity.</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/drand_dash_1.f1a0b363.png" src="/assets/images/drand_dash_1.f1a0b363-d91d74ddbe74f78ea8c2c3da60e99c2d.png" width="1175" height="887" class="img_ev3q"></p>
<p>The second section contains information about each of the beacons in the given network, including the ceremony state for each node. This allows us to track ceremonies, as well as ensuring that all nodes are up to date with all other nodes.</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/drand_dash_2.f887bda3.png" src="/assets/images/drand_dash_2.f887bda3-0f1d726e291be5d74b2fa9879db8b50a.png" width="1158" height="845" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-results">🏆 Results<a href="#-results" class="hash-link" aria-label="Direct link to 🏆 Results" title="Direct link to 🏆 Results">​</a></h3>
<p>We have already deployed and used the new dashboard in the last set of ceremonies that we carried out in our testnet network. It has proven to be an extremely useful tool. We were able to spot connectivity problems and other inconsistencies in a totally asynchronous manner, which in turn enabled us to resolve issues much faster. This has given us confidence to run the next testnet ceremony in an asynchronous manner, without having to coordinate all operators being in front of their keyboards at the same time.</p>
<p>Beyond ceremonies, we now have a much more detailed view of the state of the LoE drand network.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h3>
<p>As is the case with pretty much any software tool, many more features can be added and several of the existing ones can be optimized. However, what we have is already a big step forward and gives us much higher confidence in the process, compared to the ceremony procedure we used to have.</p>
<p>Some of the issues we have found that we would like to fix in future versions of the monitoring infrastructure are:</p>
<ul>
<li><strong>Consistency</strong>: We sometimes see some measurements toggling between two numbers in the dashboard. The reason for this is, we are gathering metrics from all hosts and storing them in Influx DB. However, some of these metrics are system-wide, and since this is a distributed system, some hosts might have slightly different views of the state of the network than other hosts (especially during ceremonies). While this is not a widespread problem, it can be confusing.</li>
<li><strong>Visibility of New Nodes</strong>: When a new node joins the network, we are unable to see</li>
</ul>
<p>it in the dashboard until the ceremony is finished. We would like to have some way of monitoring the state of a new node.</p>
<ul>
<li><strong>Visibility in the Case of Connectivity Problems</strong>: Since we are scraping the metrics from the Protocol Labs nodes, if a node cannot connect to any of them, we cannot gather its metrics. While this is mitigated by scraping from all Protocol Labs nodes instead of just one, we still run the risk of missing a node’s metrics if it cannot connect to any Protocol Labs nodes.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="suggested-references-for-further-reading">Suggested References for Further Reading:<a href="#suggested-references-for-further-reading" class="hash-link" aria-label="Direct link to Suggested References for Further Reading:" title="Direct link to Suggested References for Further Reading:">​</a></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Random_number" target="_blank" rel="noopener noreferrer">Random Number</a></li>
<li><a href="https://en.wikipedia.org/wiki/Threshold_cryptography" target="_blank" rel="noopener noreferrer">Threshold Cryptography</a></li>
<li><a href="https://en.wikipedia.org/wiki/Public_key_infrastructure" target="_blank" rel="noopener noreferrer">Public Key Infrastructure</a></li>
<li><a href="https://en.wikipedia.org/wiki/Verifiable_random_function" target="_blank" rel="noopener noreferrer">Verifiable Random Function</a></li>
<li><a href="https://en.wikipedia.org/wiki/Prometheus_(software)" target="_blank" rel="noopener noreferrer">Prometheus (software)</a></li>
<li><a href="https://en.wikipedia.org/wiki/GRPC" target="_blank" rel="noopener noreferrer">GRPC</a></li>
<li><a href="https://en.wikipedia.org/wiki/Asynchronous_system" target="_blank" rel="noopener noreferrer">Asynchronous System</a></li>
</ul>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="begginer tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/features">Features</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/drand-at-northsec">drand @ NorthSec</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-23T00:00:00.000Z">June 23, 2022</time> · <!-- -->11 min read</div></header><div class="markdown"><p><em>Drand was recently presented at the North Sec conference! Here is a brief summary of the event and the drand talk, as well as the answers to a few of the interesting questions we received.</em></p>
<p>You can find the slides <a href="https://ipfs.io/ipfs/bafybeigenfo4az5j7abbjc3mbn7i4rl6qto7cca75kednwh73lopzq6foa/Public_verifiable_unbiasable_randomness_wassat-NSec2022-Yolan_Romailler.pdf" target="_blank" rel="noopener noreferrer">**ready to be downloaded on IPFS</a>:**</p>
<p>[CID: bafybeigenfo4az5j7abbjc3mbn7i4rl6qto7cca75kednwh73lopzq6foa]</p>
<p>A video of the talk is already <a href="https://youtu.be/I1iKtNGRv0s?t=17468" target="_blank" rel="noopener noreferrer"><strong>available on Youtube</strong></a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-northsec"><strong>What is NorthSec?</strong><a href="#what-is-northsec" class="hash-link" aria-label="Direct link to what-is-northsec" title="Direct link to what-is-northsec">​</a></h2>
<p><a href="https://nsec.io/" target="_blank" rel="noopener noreferrer"><strong>North Sec</strong></a> is the biggest conference in Canada that focuses on IT Security and its many facets. It is traditionally in Montreal in May and starts by featuring a few days of deep dive trainings, followed by two days of conference sessions and finishes with the one of the largest on-site Capture The Flag (CTF) events in the world taking place over the weekend.</p>
<p>At North Sec you find plenty of security professionals and hackers alike in the audience, and the range of talks is usually well balanced, from pen-testing to social impact or legal ones, including cryptography, malware, and more! It features both attack- and defence-focused presentations and is usually very enjoyable.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="drand--northsec"><strong>Drand @ NorthSec</strong><a href="#drand--northsec" class="hash-link" aria-label="Direct link to drand--northsec" title="Direct link to drand--northsec">​</a></h2>
<p>The Drand team attended North Sec to present a talk titled “Public, verifiable, and unbiasable randomness: wassat?” whose goal was to introduce the different flavours of randomness to the audience, as well as to explain some of the quirks that make randomness a sensitive topic, and why it’s especially difficult in the distributed, public case. Finally, we also did a recap about the current drand network being run by the League of Entropy and available to the public as a source of randomness. We have invited interested parties to start using drand in their projects, or to join the <a href="https://www.cloudflare.com/en-gb/leagueofentropy/" target="_blank" rel="noopener noreferrer"><strong>League of Entropy</strong></a> to contribute to a secure, distributed randomness network.</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/Untitled.900a032c.jpg" src="/assets/images/Untitled.900a032c-15390e0f69fc6f2f4430d5a7a3ce175d.jpg" width="2048" height="913" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways-from-the-talk"><strong>Key Takeaways from the Talk</strong><a href="#key-takeaways-from-the-talk" class="hash-link" aria-label="Direct link to key-takeaways-from-the-talk" title="Direct link to key-takeaways-from-the-talk">​</a></h3>
<p>In case you need a refresher or are just curious about what this talk was about, here are my key takeaways:</p>
<ul>
<li><strong>Public randomness is a specific kind of randomness that is typically used in lotteries and other public processes (jury election, population sampling, etc)</strong>, where you want to be able to say “Look, I’ve got nothing up my sleeves, I just took the random value here and anybody can check that I didn’t cheat”.</li>
<li><strong>Verifiable randomness is another kind of randomness that can be proven to have been generated in a given (honest) way</strong>. This is useful in order to increase public trust in one’s system. If you run a lottery but nobody knows how you’re choosing the winning number, people might be wary, whereas if you chose the winning numbers by picking them live on TV in a jar, then people can see you’re unlikely to bias the result. In the same way, verifiable randomness aims at increasing trust by providing a means of verifying the random value is unbiased and generated in a fair manner.</li>
<li><strong>Secret randomness is the kind of randomness you’re most used to and is meant to stay secret</strong>: every time you connect to a website, every time you generate a new SSH or PGP key, that’s the kind of randomness you’ll be using. For this kind of randomness, you usually want to source it from your very own computer and to rely on so-called “cryptographic PRNGs” when using it in your code to produce nonces, IVs or secret keys. It’s called “secret” because a leak or bias can have devastating consequences up to secret key leakage from a single signature, for example.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/Untitled1.225dcd21.jpg" src="/assets/images/Untitled1.225dcd21-849ed771617c2d6375193e6bb74e86d7.jpg" width="2048" height="1099" class="img_ev3q"></p>
<ul>
<li><strong>Distributed randomness is what we call randomness that is meant to be used on a distributed system;</strong> be it a smart contract on a blockchain, or any other random value on which a system needs to achieve consensus, maybe for leader election, or something else. It’s usually fairly difficult to achieve consensus on a random value in a way that will ensure that this random value is neither predictable nor biased. In general, care must be taken in the distributed case to avoid “<a href="https://en.wikipedia.org/wiki/Front_running" target="_blank" rel="noopener noreferrer"><strong>front-running</strong></a>”: if someone can race the distributed system as soon as the random value is public and get their own transaction in just after the random value became public, it might have pretty severe consequences for the system. Therefore, if the public randomness is used to designate a winner, or if there is any potential gain from knowing it before others, we recommend relying on a “locking period” just before public release of the random beacon where you stop accepting new submissions, in order to avoid <a href="https://ethereum.org/en/developers/docs/mev/#effects-of-mev-the-bad" target="_blank" rel="noopener noreferrer"><strong>MEV attacks</strong></a> and front-running.</li>
<li><strong>drand and the League of Entropy are running a network of nodes providing public, verifiable, distributed randomness</strong> with 100% uptime since its launch in 2020! You can access it freely using our HTTP endpoints:<!-- -->
<ul>
<li><a href="https://api.drand.sh/public/latest" target="_blank" rel="noopener noreferrer"><strong>https://api.drand.sh/public/latest</strong></a></li>
<li><a href="https://api.drand.sh/info" target="_blank" rel="noopener noreferrer"><strong>https://api.drand.sh/info</strong></a></li>
<li>or Cloudflare’s endpoints:<!-- -->
<ul>
<li><a href="https://mainnet1-api.drand.cloudflare.com/health" target="_blank" rel="noopener noreferrer"><strong>https://mainnet1-api.drand.cloudflare.com/health</strong></a></li>
<li><a href="https://mainnet2-api.drand.cloudflare.com/public/1981367" target="_blank" rel="noopener noreferrer"><strong>https://mainnet2-api.drand.cloudflare.com/public/1981367</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Just don’t forget to verify the randomness and don’t use it to produce secret keys!</p>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/Untitled2.dd2ef53e.jpg" src="/assets/images/Untitled2.dd2ef53e-24388235707baf45dcadd26e3bc93e5f.jpg" width="2048" height="1121" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-qa">❓ <strong>Q&amp;A</strong><a href="#-qa" class="hash-link" aria-label="Direct link to -qa" title="Direct link to -qa">​</a></h2>
<p>While we had many interesting questions during the cryptography session panel, here is a selection of questions worth sharing further, along with some answers:</p>
<ul>
<li><strong>Q: How is drand and the LoE handling malicious takeover by new nodes?</strong></li>
</ul>
<p><strong>A:</strong> This is mostly a governance question: we are not accepting any random node on the network, new nodes and organizations joining the network need to be “vetted” by the other members. There is no technical countermeasure to this kind of takeover.</p>
<ul>
<li><strong>Q: How many rounds per second or per minute can drand generate? What’s the “bandwidth” of the produced randomness?</strong></li>
</ul>
<p><strong>A:</strong> The current mainnet is emitting one round every 30 seconds, and we are testing on our testnet a new, faster network producing a round every 3 seconds. Each round contains 256 bits of “randomness”.</p>
<ul>
<li><strong>Q: How can an organization join the League of Entropy and run a drand node?</strong></li>
</ul>
<p><strong>A:</strong> Just <a href="https://www.notion.so/drand-98e192e7414247ff898c4258d4cc28c1?pvs=21" target="_blank" rel="noopener noreferrer"><strong>head to our webpage</strong></a> and fill the form at the bottom! The LoE will then discuss the application and if there are no blockers, we’ll get in touch with you, help you setup your node and join our testnet. This is a pre-cautionary, short testing period to make sure everything works fine, after which your node can join the mainnet network! There’s almost no paperwork, and it’s a fairly straightforward process.</p>
<ul>
<li><strong>Q: How does Time lock encryption work?</strong></li>
</ul>
<p><strong>A:</strong> Stay tuned, we’ll release the details, along with a blog post and a paper, and hopefully a conference talk later this year!</p>
<ul>
<li><strong>Q: How about using division and multiplication (r / max * range) instead of using modulo (r % range) to sample a random value in a given range in an unbiased way?</strong></li>
</ul>
<p><strong>A:</strong> This is not a good solution either, as relying on floating point arithmetic also introduces bias, although not necessarily in the same places as a modulo bias. You can find more about the biases of floating point techniques in <a href="https://www.pcg-random.org/posts/bounded-rands.html#fp-multiply-biased" target="_blank" rel="noopener noreferrer"><strong>this blog post</strong></a>. The real solution to sample an unbiased random value is to <a href="https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/#:~:text=The%20most%20common%20way:%20rejection%20sampling" target="_blank" rel="noopener noreferrer"><strong>rely on rejection sampling</strong></a>:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> sample a random r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> check is r </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">range</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">alternatively any multiple </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> range closest to max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">yes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">or r </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> range is the check was done against a multiple </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> range</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">no</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> go back to step </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="https://drand.love/assets/img/Untitled3.229cc637.jpeg" src="/assets/images/Untitled3.229cc637-415e5eb7b7061467cba0ba4319b35d7b.jpeg" width="2048" height="913" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-bonus-a-solution-to-one-of-the-ctf-challenges">🥇 <strong>Bonus: A Solution to one of the CTF Challenges</strong><a href="#-bonus-a-solution-to-one-of-the-ctf-challenges" class="hash-link" aria-label="Direct link to -bonus-a-solution-to-one-of-the-ctf-challenges" title="Direct link to -bonus-a-solution-to-one-of-the-ctf-challenges">​</a></h2>
<p>Did I mention the Capture The Flag (CTF) session even featured a challenge centered around randomness this year? We solved it together with <a href="http://twitter.com/frenchYeti" target="_blank" rel="noopener noreferrer"><strong>FrenchYeti</strong></a>, who confessed he hadn’t written Java in years despite working on Android reverse engineering for a living! Here’s how we did it.</p>
<p>The challenge was just a simple webpage with a login form and a basic password-reset functionality relying on UUID version 4 to produce its password-reset URLs. We could query a password-reset URL for any user, including the admin account, but sadly the admin’s URL was sent to them by email, whereas our own user’s password-reset URL was just displayed on the webpage when we queried it.</p>
<p>UUID stands for “Universal Unique Identifiers” and there are 128-bit values used to uniquely identify objects or entities on the internet. They typically look like this: acb44130-856e-499f-b56e-bfce45dd1ae9.</p>
<p>“Version 4” means that the UUID is <strong>generated using random numbers</strong>, and since we had access to the code running on the server side, we could see that the random generator used to generate these UUID was simply Java’s very own Random. Sadly, or luckily for us, Java’s Random is a so-called <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator" target="_blank" rel="noopener noreferrer"><strong>LCG</strong></a>, which stands for “linear congruential generator” and yes, it’s linear and totally insecure! So if you know its seed or can look at as few as two random values it generated, you can predict all of its output!</p>
<p>Next we needed to figure out how these UUID type 4 where generated, and thankfully, since they have 128 bits of entropy, they are just generated by <a href="https://github.com/cowtowncoder/java-uuid-generator/blob/a28b65dc2d862e6aa3ac7b16584d0e9eb8dd8ff9/src/main/java/com/fasterxml/uuid/impl/RandomBasedGenerator.java#L89-L93" target="_blank" rel="noopener noreferrer"><strong>calling the RNG <code>getLong</code> twice</strong></a>:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token maybe-class-name">Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">UUID</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* 14-Oct-2010, tatu: Surprisingly, variant for reading byte array is</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         *   tad faster for SecureRandom... so let&#x27;s use that then</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long r1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_secureRandom</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            final byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">nextBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_toLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_toLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">nextLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">nextLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">UUIDUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">constructUUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">UUIDType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">RANDOM_BASED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>So, it meant we just needed a single UUID in order to recover Java’s Random seed and predict the next UUID it would generate!</p>
<p>There is a bit of extra complication stemming from the fact that the UUID generator is doing <a href="https://github.com/cowtowncoder/java-uuid-generator/blob/a28b65dc2d862e6aa3ac7b16584d0e9eb8dd8ff9/src/main/java/com/fasterxml/uuid/impl/UUIDUtil.java#L152-L161" target="_blank" rel="noopener noreferrer"><strong>some bit-fiddling when constructing the UUID</strong></a>:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">UUID</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">constructUUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter maybe-class-name">UUIDType</span><span class="token parameter"> type</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> long l1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> long l2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// first, ensure type is ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l1 </span><span class="token operator" style="color:#393A34">&amp;=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">0xF000L</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// remove high nibble of 6th byte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l1 </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">raw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// second, ensure variant is properly set too (8th byte; most-sig byte of second long)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l2 </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// remove 2 MSB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        l2 </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">2L </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// set 2 MSB to &#x27;10&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">UUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> l2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that there is even some lost information, so we don’t know for sure what the two longs were when we “split” the UUID into longs again… But as you can see, the second long is only losing its 2 MSB, but that’s only 4 trials to bruteforce, so it’s fairly easy to “just try all possibilities” in that case. A further blessing for us is the fact that we actually only need one long to try and attack Java’s Random, because to generate a long, the random generator is called twice to produce integers and combines them together into a long! So, what we need to do is to:</p>
<ul>
<li>split the UUID into longs,</li>
<li>recover the possible integers from the longs,</li>
<li>try to see if it gives us a seed once reversed,</li>
<li>if so, validate it’s generating the right longs and generate the next UUID, the one that would have gotten sent to the admin email, then reset the admin password and win our flag!</li>
</ul>
<p>Which we did using the following code (<a href="https://stackoverflow.com/a/20183412/2757014" target="_blank" rel="noopener noreferrer"><strong>adapted from this StackExchange response</strong></a>):</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">splitLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">long l</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0xffffffff</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> long </span><span class="token function" style="color:#d73a49">getSeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">int i1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> int i2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final long multiplier </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 0x5DEECE66DL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final long inv_mult </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 0xDFE05BCB1365L</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final long increment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 0xBL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final long mask </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">1L </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">48</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long suffix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 0L</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long lastSeed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long currSeed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int lastInt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">long i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            suffix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            currSeed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">long</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">i2 </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> suffix</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastSeed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currSeed </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> inv_mult</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> mask</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastInt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastSeed </span><span class="token operator" style="color:#393A34">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastInt </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> i1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                currSeed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> lastSeed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lastSeed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currSeed </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> inv_mult</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> mask</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot; Seed found: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lastSeed </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> multiplier</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain">  lastSeed </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> multiplier</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;current seed not found&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> long</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">splitUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter constant" style="color:#36acaa">UUID</span><span class="token parameter"> uuid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long l1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getMostSignificantBits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long l2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getLeastSignificantBits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">long</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l2 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">3L </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l2 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">2L </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l2 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">1L </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain">  ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter known-class-name class-name">String</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Starting&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">Random</span><span class="token plain"> random</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token comment" style="color:#999988;font-style:italic">// using the UUID we got from our own password reset request:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token constant" style="color:#36acaa">UUID</span><span class="token plain"> uuid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">UUID</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fromString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;7e7c8bd5-1ba9-4419-aea9-8e7f3f3dfe7b&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> parts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">splitUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pp</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long seed4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">splitLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            seed4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getSeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> pp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Test it now:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            random </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seed4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            r2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">nextLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;: &quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">r2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Get the next token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uuid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getToken</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parts</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;: &quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">uuid</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Which gave us the following output:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">Starting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">current seed not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1249310744445583749</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4962768465676381896</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1249310744445583749</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 3d93cb79</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">9b39</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">40be</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">a32d</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">c9f64f1df03a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token maybe-class-name">Seed</span><span class="token plain"> found</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30426537520105</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 6abec385</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">18e8</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4422</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">9d90</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cc2c2e54dc3b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">current seed not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1249310744445583749</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4962768465676381896</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1249310744445583749</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 3d93cb79</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">9b39</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">40be</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">a32d</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">c9f64f1df03a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token maybe-class-name">Seed</span><span class="token plain"> found</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30426537520105</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5860996762872971653</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> 6abec385</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">18e8</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4422</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">9d90</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cc2c2e54dc3b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And allowed us to reset the admin password using this newly generated UUID and win an extra CTF flag for our team!</p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="conferences and events tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/conferences-and-events">Conferences-and-Events</a></li><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/storswift-joins-the-league-of-entropy">StorSwift joins the League of Entropy!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-29T00:00:00.000Z">March 29, 2022</time> · <!-- -->3 min read</div></header><div class="markdown"><p>Date Published: March 29, 2022
Tags: League of Entropy, New Members, News</p>
<p><em>&quot;StorSwift becomes the newest member of the League of Entropy. We&#x27;ve asked them why they&#x27;re motivated by drand and decided to contribute - check what they said!&quot;</em></p>
<p><img decoding="async" loading="lazy" alt="StorSwiftLogo.png" src="/assets/images/StorSwiftLogo-96a34eff8fe53a6949247f62e98708b9.png" width="599" height="443" class="img_ev3q"></p>
<p>We are excited to announce that <a href="https://storswift.com/" target="_blank" rel="noopener noreferrer"><strong>StorSwift</strong></a>, a China-based cloud computing and storage services company, is joining forces with the <a href="https://leagueofentropy.com/" target="_blank" rel="noopener noreferrer"><strong>League of Entropy</strong></a> (LoE)! StorSwift is becoming the 15th member to join the LoE and the first partner joining from China - a significant milestone for the LoE!</p>
<p>StorSwift has already deployed various workload-scalable enterprise storage systems in video surveillance, HPC, and AI industries and provides support for the many platforms in operation. Based on their extensive experience with large-scale infrastructure projects, StorSwift has recently focused on improving infrastructure management and security techniques for Web3.0 computing platforms - all of which make StorSwift a great addition to the LoE! Welcome!</p>
<p>We&#x27;ve asked StorSwift some key questions that we&#x27;ve previously asked other LoE members - see <a href="/blog/page/The Value of drand (Part 1 of 2) 0cc0bb5ecb6d471da62152370180701b.md"><strong>here</strong></a> and <a href="/blog/page/The Value of drand (Part 2 of 2) 6d53b4cc6b5f4f31a8cab0b3fe2e94c3.md"><strong>here</strong></a> - on the value of drand. Here are the answers.</p>
<hr>
<p><strong>In your opinion, why is drand important as a protocol for the next generation of the Internet?</strong></p>
<ul>
<li>The drand protocol elegantly provides a truly decentralized robust solution to the random numbers quality problem, which indeed is fundamental for secure computer systems.</li>
</ul>
<hr>
<p><strong>Why did you decide to join the League of Entropy? What value do you see in drand that is important for your mission (what convinced you to join)?</strong></p>
<ul>
<li>StorSwift is a technology company focused on distributed computing and storage providing. We are also actively participating in the Web3.0 ecosystem development and we are very proud to be a member of League of Entropy!</li>
</ul>
<hr>
<p><strong>Where would you like to see drand in 2 years from now?</strong></p>
<ul>
<li>The growing LoE community is key for robust and fast randomness delivery. We believe that the current and future potential of drand features will be very attractive for all Web3.0 developers and the wider community.</li>
</ul>
<hr>
<p><em>The League of Entropy evaluates, votes on, and onboards new members quarterly. If you want to be a part of the first production-grade distributed randomness beacon and help provide publicly verifiable randomness as a service, contact us at <a href="mailto:leagueofentropy@googlegroups.com" target="_blank" rel="noopener noreferrer">leagueofentropy@googlegroups.com</a>. We are looking for enthusiastic teams with experience running secure production services who are interested in operating drand nodes and relays. We also encourage you to check out the drand GitHub repository for details.</em></p>
<hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="league of entropy tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/League-of_entropy">League-of-Entropy</a></li><li class="tag_QGVx"><a title="new members tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/new-members">New-Members</a></li><li class="tag_QGVx"><a title="news tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/news">News</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/home">Dev Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/drand" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/drandworkspace/shared_invite/zt-2p00bn43o-qALTK5RZEIK3I4fIO9h8dQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/drand/drand" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Apache 2.0 and/or MIT Licensed 2024 Randamu, Inc.™ Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>